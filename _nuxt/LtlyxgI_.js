import{m as qe,v as xl,u as Ie,w as q,o as W,x as Ee,y as M,z as Sl,f as le,A as Cl,d as _l,s as Ne,j as wl,M as je,i as $l,e as Ll,k as Ml,B as Vl,p as Ul,C as Tl,D as Fl,_ as hl}from"./_JKgUaAc.js";import{f as G,z as pe,A as Ol,B as Al,C as Pl,c as S,D as Bl,E as Rl,G as El,H as Nl,k as C,I as Te,o as k,a as e,F as B,m as E,i as $,t as L,l as t,v as K,q as Dl,J as zl,p as I,_ as Fe,K as Ge,n as U,L as ql,g as Q,r as x,M as Le,d as T,b as O,j as he,N as Z,x as j,s as ee,O as z,P as De,Q as Il,R as jl,S as Gl,h as ne,T as Xl,w as P,U as Me,V as Ve,W as Ue,X as Xe,Y as Hl,Z as Kl,y as Wl}from"./8R2V1aPO.js";const Jl=Symbol.for("nuxt:client-only"),Yl=G({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(i,{slots:c,attrs:u}){const y=Ol(!1);pe(()=>{y.value=!0});const _=Bl();return _&&(_._nuxtClientOnly=!0),Rl(Jl,!0),()=>{if(y.value){const w=c.default?.();return w&&w.length===1?[Al(w[0],u)]:w}const d=c.fallback||c.placeholder;if(d)return Pl(d);const o=i.fallback||i.placeholder||"",v=i.fallbackTag||i.placeholderTag||"span";return S(v,u,o)}}}),Ql="$s";function Zl(...i){const c=typeof i[i.length-1]=="string"?i.pop():void 0;typeof i[0]!="string"&&i.unshift(c);const[u,y]=i;if(!u||typeof u!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+u);if(y!==void 0&&typeof y!="function")throw new Error("[nuxt] [useState] init must be a function: "+y);const _=Ql+u,d=El(),o=Nl(d.payload.state,_);if(o.value===void 0&&y){const v=y();if(C(v))return d.payload.state[_]=v,v;o.value=v}return o}const et={class:"card my-2"},lt={class:"card-body"},tt={class:"row"},ot={class:"input-group"},st={class:"input-group-prepend"},nt={class:"input-group-text",style:{width:"74px","justify-content":"center"}},at=["onUpdate:modelValue"],rt=G({__name:"OSeasonFanLv",props:{seasonFanLvs:{required:!0},seasonFanLvsModifiers:{}},emits:["update:seasonFanLvs"],setup(i){const c=Te(i,"seasonFanLvs"),u=["kaho","sayaka","rurino","ginko","kosuzu","hime","ceras","izumi"];return(y,_)=>(k(),S("div",et,[_[0]||(_[0]=e("div",{class:"card-header"}," Season Fan Lv. ",-1)),e("div",lt,[e("div",tt,[(k(),S(B,null,E(u,d=>e("div",{key:d,class:"col-12 col-sm-6 col-md-4 col-lg-3 mb-2"},[e("div",ot,[e("div",st,[e("div",nt,[e("span",null,L(t(qe)[d]),1)])]),$(e("input",{"onUpdate:modelValue":o=>c.value[d]=o,type:"number",class:"form-control",min:"1",max:"10"},null,8,at),[[K,c.value[d],void 0,{number:!0}]])])])),64))])])]))}}),it=Object.assign(rt,{__name:"OSeasonFanLv"}),dt=G({__name:"AMarkSelect",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(i){const c=Te(i,"modelValue");return(u,y)=>$((k(),S("select",{"onUpdate:modelValue":y[0]||(y[0]=_=>c.value=_),class:I(["form-select marker-select",[c.value]])},[...y[1]||(y[1]=[zl('<option value="none" data-v-4055ea95>-</option><option value="heart" data-v-4055ea95>♥</option><option value="diamond" data-v-4055ea95>♦</option><option value="spade" data-v-4055ea95>♠</option><option value="club" data-v-4055ea95>♣</option>',5)])],2)),[[Dl,c.value]])}}),Oe=Object.assign(Fe(dt,[["__scopeId","data-v-4055ea95"]]),{__name:"AMarkSelect"}),Ae=xl(()=>({skillCaches:Ge(new Map)})),ut=["rowspan"],vt=["max"],ct=["rowspan"],pt={class:"row"},mt={class:"col form-check-label"},ft={class:"col form-check-label"},bt={class:"col form-check-label"},kt=["rowspan"],yt=["rowspan"],gt={class:"friend-row"},xt=["max"],St={class:"friend-row"},Ct=G({__name:"MMemberRow",props:{card:{},isVisible:{type:Boolean},openCardDetailsModal:{type:Function}},emits:["update:skillLevel"],setup(i,{emit:c}){const u=i,y=c,_=U(()=>M(u.card)),d=x("optional"),o=Ie(_,{level:q[u.card.rarity]||1,centerSkillLevel:10,skillLevel:10,friendLevel:q[u.card.rarity]||1,friendCenterSkillLevel:14,lbCount:1,selected:"optional",friendPosession:!1,mark:"none"}),{skillCaches:v}=Ae();return pe(()=>{v.set(_.value,o)}),ql(()=>{v.delete(_.value)}),o.value.level||(o.value.level=q[u.card.rarity]||1),o.value.lbCount||(o.value.lbCount=1),o.value.friendLevel||(o.value.friendLevel=q[u.card.rarity]||1),o.value.friendCenterSkillLevel||(o.value.friendCenterSkillLevel=14),o.value.mark||(o.value.mark="none"),Q(d,w=>{o.value.selected!==w&&(o.value.selected=w)}),Q(o,w=>{d.value!==w.selected&&(d.value=w.selected)}),Q(U(()=>o.value.skillLevel),w=>{w>10&&(o.value.lbCount=Math.max(o.value.lbCount,w-9))}),Q(U(()=>o.value.centerSkillLevel),w=>{w>10&&(o.value.lbCount=Math.max(o.value.lbCount,w-9))}),Q(o,w=>{y("update:skillLevel",w)}),pe(()=>{d.value=o.value.selected||"optional",y("update:skillLevel",o.value)}),(w,s)=>{const g=he,b=Oe;return k(),S(B,null,[$(e("tr",null,[e("td",{rowspan:t(o).friendPosession?2:1},[T(L(t(W)(i.card))+" ",1),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:s[0]||(s[0]=r=>i.openCardDetailsModal(i.card))},[O(g,{icon:"circle-info"})])],8,ut),e("td",{class:I({"gained-ap":t(Ee)(i.card,t(o).level)>0}),style:Z({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},L(i.card.ap+t(Ee)(i.card,t(o).level)),7),e("td",{style:Z({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[$(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t(o).level=r),class:I(["form-control",{"not-max":t(o).level!==t(q)[i.card.rarity]}]),type:"number",min:"1",max:t(q)[i.card.rarity],onChange:s[2]||(s[2]=r=>y("update:skillLevel",t(o)))},null,42,vt),[[K,t(o).level,void 0,{number:!0}]])],4),e("td",{style:Z({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[$(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>t(o).skillLevel=r),class:I([[t(o).skillLevel>10?`level-exceeded-${t(o).skillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[K,t(o).skillLevel,void 0,{number:!0}]])],4),e("td",{style:Z({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[$(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>t(o).centerSkillLevel=r),class:I([[t(o).centerSkillLevel>10?`level-exceeded-${t(o).centerSkillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[K,t(o).centerSkillLevel,void 0,{number:!0}]])],4),e("td",{style:Z({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[$(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>t(o).lbCount=r),class:I(["form-control",[t(o).lbCount>1?`level-exceeded-${t(o).lbCount-1}`:""]]),type:"number",min:"1",max:"5"},null,2),[[K,t(o).lbCount,void 0,{number:!0}]])],4),e("td",{rowspan:t(o).friendPosession?2:1,class:I({"required-bg":t(d)==="required","excluded-bg":t(d)==="excluded"})},[e("div",pt,[e("label",mt,[$(e("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>C(d)?d.value=r:null),class:"form-check-input",type:"radio",value:"required"},null,512),[[j,t(d)]]),s[13]||(s[13]=T(" 必須 ",-1))]),e("label",ft,[$(e("input",{"onUpdate:modelValue":s[7]||(s[7]=r=>C(d)?d.value=r:null),class:"form-check-input",type:"radio",value:"optional"},null,512),[[j,t(d)]]),s[14]||(s[14]=T(" 任意 ",-1))]),e("label",bt,[$(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>C(d)?d.value=r:null),class:"form-check-input",type:"radio",value:"excluded"},null,512),[[j,t(d)]]),s[15]||(s[15]=T(" 除外 ",-1))])])],10,ct),e("td",{rowspan:t(o).friendPosession?2:1,style:{"text-align":"center"}},[i.card.rarity!=="dr"&&i.card.rarity!=="dr2"?$((k(),S("input",{key:0,"onUpdate:modelValue":s[9]||(s[9]=r=>t(o).friendPosession=r),class:"form-check-input",type:"checkbox"},null,512)),[[z,t(o).friendPosession]]):ee("",!0)],8,kt),e("td",{rowspan:t(o).friendPosession?2:1},[O(b,{modelValue:t(o).mark,"onUpdate:modelValue":s[10]||(s[10]=r=>t(o).mark=r)},null,8,["modelValue"])],8,yt)],512),[[Le,i.isVisible]]),$(e("tr",null,[s[16]||(s[16]=e("td",{class:"p-0 position-relative"},[e("div",{class:"friend-row-start"},[e("div",null,"フレンド")])],-1)),e("td",gt,[$(e("input",{"onUpdate:modelValue":s[11]||(s[11]=r=>t(o).friendLevel=r),class:I([{"not-max":t(o).friendLevel!==t(q)[i.card.rarity]},"form-control"]),type:"number",min:"1",max:t(q)[i.card.rarity]},null,10,xt),[[K,t(o).friendLevel,void 0,{number:!0}]])]),s[17]||(s[17]=e("td",{class:"friend-row"},null,-1)),e("td",St,[$(e("input",{"onUpdate:modelValue":s[12]||(s[12]=r=>t(o).friendCenterSkillLevel=r),class:I([[t(o).friendCenterSkillLevel>10?`level-exceeded-${t(o).friendCenterSkillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[Le,t(o).friendPosession],[K,t(o).friendCenterSkillLevel,void 0,{number:!0}]])]),s[18]||(s[18]=e("td",{class:"p-0 position-relative"},[e("div",{class:"friend-row-end"})],-1))],512),[[Le,i.isVisible&&t(o).friendPosession]])],64)}}}),_t=Object.assign(Fe(Ct,[["__scopeId","data-v-870db6ec"]]),{__name:"MMemberRow"}),wt={class:"card my-2"},$t={class:"card-body"},Lt={class:"d-flex gap-2 align-items-center"},Mt=G({__name:"OCardOperation",setup(i){const c=x("none"),{skillCaches:u}=Ae(),y=()=>{u.forEach(s=>{s.value.mark===c.value&&(console.log("setSelectedMarkToRequired",s.value.mark),s.value={...s.value,selected:"required"})})},_=()=>{u.forEach(s=>{s.value.mark===c.value&&(s.value={...s.value,selected:"optional"})})},d=()=>{u.forEach(s=>{s.value.mark===c.value&&(s.value={...s.value,selected:"excluded"})})},o=()=>{confirm("マークをリセットしますか？")&&u.forEach(s=>{s.value={...s.value,mark:"none"}})},v=()=>{u.forEach(s=>{s.value={...s.value,friendPosession:!0}})},w=()=>{u.forEach(s=>{s.value={...s.value,friendPosession:!1}})};return(s,g)=>{const b=Oe;return k(),S("div",wt,[g[3]||(g[3]=e("div",{class:"card-header"}," カード操作 ",-1)),e("div",$t,[e("div",Lt,[e("div",null,[O(b,{modelValue:t(c),"onUpdate:modelValue":g[0]||(g[0]=r=>C(c)?c.value=r:null),class:""},null,8,["modelValue"])]),g[1]||(g[1]=e("div",null,"をすべて",-1)),e("button",{class:"btn btn-primary",onClick:y},"必須に"),e("button",{class:"btn btn-primary",onClick:_},"任意に"),e("button",{class:"btn btn-primary",onClick:d},"除外に")]),e("div",{class:"mt-2"},[e("button",{class:"btn btn-primary",onClick:o},"マークリセット")]),e("div",{class:"mt-2 d-flex gap-2 align-items-center"},[g[2]||(g[2]=e("div",null,"フレンド所持状況：",-1)),e("button",{class:"btn btn-primary",onClick:v},"すべてON"),e("button",{class:"btn btn-primary",onClick:w},"すべてOFF")])])])}}}),Vt=Object.assign(Mt,{__name:"OCardOperation"}),Ut=G({__name:"BTooltip",props:De({interactive:{type:Boolean,default:void 0},body:{},bodyClass:{default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},focus:{type:Boolean,default:void 0},hover:{type:Boolean,default:void 0},delay:{default:0},floatingMiddleware:{default:void 0},hideMargin:{default:0},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},titleClass:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:De(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(i,{expose:c,emit:u}){const _=Il(i,"BTooltip"),d=u,o=jl(),v=Te(i,"modelValue"),w=U(()=>{const{interactive:g,noninteractive:b,...r}=_;return{noninteractive:b!==void 0?b:!g,...r}}),s=Gl("_popover");return c({hide:()=>{s.value?.hide()},show:()=>{s.value?.show()},toggle:()=>{s.value?.toggle()}}),(g,b)=>(k(),ne(Hl,Xe({ref:"_popover"},w.value,{modelValue:v.value,"onUpdate:modelValue":b[0]||(b[0]=r=>v.value=r),tooltip:"",onShow:b[1]||(b[1]=r=>d("show",r)),onShown:b[2]||(b[2]=r=>d("shown",r)),onHide:b[3]||(b[3]=r=>d("hide",r)),onHidden:b[4]||(b[4]=r=>d("hidden",r)),onHidePrevented:b[5]||(b[5]=r=>d("hide-prevented",r)),onShowPrevented:b[6]||(b[6]=r=>d("show-prevented",r)),onTogglePrevented:b[7]||(b[7]=r=>d("toggle-prevented",r)),onToggle:b[8]||(b[8]=r=>d("toggle",r)),onPointerleave:b[9]||(b[9]=r=>d("pointerleave",r)),onBlur:b[10]||(b[10]=r=>d("blur",r)),onClickOutside:b[11]||(b[11]=r=>d("click-outside",r)),onCloseOnHide:b[12]||(b[12]=r=>d("close-on-hide",r))}),Xl({_:2},[o.default?{name:"default",fn:P(r=>[Me(g.$slots,"default",Ve(Ue(r)))]),key:"0"}:void 0,o.target?{name:"target",fn:P(r=>[Me(g.$slots,"target",Ve(Ue(r)))]),key:"1"}:void 0,o.title?{name:"title",fn:P(r=>[Me(g.$slots,"title",Ve(Ue(r)))]),key:"2"}:void 0]),1040,["modelValue"]))}}),se=["スコアには楽曲マスタリーレベルとボルテージレベルの補正が乗る。スキルによるスコア獲得にも乗る。","コンボによるAP獲得量ボーナスはスキルにも乗る。","DRとLR、及び地平シリーズのURは特殊なセンタースキルを持っている。強い。","「ボルテージPt.をXpt獲得／〜〜の時、ボルテージPt.をXpt獲得」みたいなスキルは、1番目のスキルにしか効果量増加が乗らない。","フィーバー中はボルテージ2倍になり獲得スコアも増加。スキルにも補正が乗るのでフィーバー中に発動できると強い。","ボルテージLv.7〜8（280〜449pt）のときに「[悠久の舞踏会] 大沢瑠璃乃」がループできると強い。","「[be proud] 乙宗梢」はスキルLv.12以上にすると手札からなくなるまでの回数が増えるので注意。","スキルLv.14の効果量はスキルLv.10の効果量の約1.5倍。切り捨ての関係でズレることはある。","フリックは実は下でも良い。","フレンドに設定したカードはレベルとセンタースキルレベルが利用される。フレンドカードに設定するカードは育成しておこう。"],Tt={class:"card my-2"},Ft={class:"card-body"},ht=G({__name:"OTips",setup(i){const c=Zl("currentTipIndex",()=>Math.floor(Math.random()*se.length)),u=U(()=>se[c.value]),y=()=>{c.value=(c.value+1)%se.length},_=()=>{c.value=(c.value-1+se.length)%se.length};return(d,o)=>(k(),S("div",Tt,[o[1]||(o[1]=e("div",{class:"card-header"}," Tips ",-1)),e("div",Ft,[e("div",null," （No. "+L(t(c)+1)+"）"+L(t(u)),1),e("button",{type:"button",class:"btn btn-primary",onClick:_}," ＜前 "),o[0]||(o[0]=T("   ",-1)),e("button",{type:"button",class:"btn btn-primary",onClick:y}," 次＞ ")])]))}}),Ot=Object.assign(ht,{__name:"OTips"}),At={class:"mb-3"},Pt={class:"row g-3 mt-1"},Bt={class:"col-12"},Rt={class:"input-group"},Et={class:"input-group-prepend"},Nt={class:"input-group-text"},Dt={style:{"min-height":"1.5em"}},zt={class:"col-12"},qt={class:"d-flex flex-wrap gap-2"},It=["id","value"],jt=["for"],Gt={class:"col-12"},Xt={class:"d-flex flex-wrap gap-2"},Ht=["id","value"],Kt=["for"],Wt={class:"col-12"},Jt={class:"d-flex flex-wrap gap-2"},Yt=["id","value"],Qt=["for"],Zt={class:"col-12"},eo={class:"d-flex flex-wrap gap-2"},lo=["id","value"],to=["for"],oo={class:"col-12"},so={class:"p-2"},no=G({__name:"AutoFormationCardFilters",props:{searchText:{},selectedSkills:{},selectedCenterSkills:{},selectedMembers:{},selectedRarities:{},skillOptions:{},centerSkillOptions:{},memberOptions:{},rarityOptions:{}},emits:["update:searchText","update:selectedSkills","update:selectedCenterSkills","update:selectedMembers","update:selectedRarities","clear","close"],setup(i,{emit:c}){const u=i,y=c,_=U({get:()=>u.searchText,set:h=>y("update:searchText",h)}),d=U({get:()=>u.selectedSkills,set:h=>y("update:selectedSkills",h)}),o=U({get:()=>u.selectedCenterSkills,set:h=>y("update:selectedCenterSkills",h)}),v=U({get:()=>u.selectedMembers,set:h=>y("update:selectedMembers",h)}),w=U({get:()=>u.selectedRarities,set:h=>y("update:selectedRarities",h)}),s=["vol_buff","vol_up","vol_down","score_buff","score_up","mental_up","mental_down","ap_up","ap_down","ap_change","reset","splice"],g=["ceras","izumi","ginko","kosuzu","hime","kaho","sayaka","rurino","kozue","tsuzuri","megumi","other"],b=U(()=>{const h=new Map(s.map((n,f)=>[n,f]));return[...u.skillOptions].sort((n,f)=>{const p=h.get(n.value)??Number.MAX_SAFE_INTEGER,F=h.get(f.value)??Number.MAX_SAFE_INTEGER;return p-F})}),r=U(()=>{const h=new Map(s.map((n,f)=>[n,f]));return[...u.centerSkillOptions].sort((n,f)=>{const p=h.get(n.value)??Number.MAX_SAFE_INTEGER,F=h.get(f.value)??Number.MAX_SAFE_INTEGER;return p-F})}),J=U(()=>{const h=new Map(g.map((n,f)=>[n,f]));return[...u.memberOptions].sort((n,f)=>{const p=h.get(n.value)??Number.MAX_SAFE_INTEGER,F=h.get(f.value)??Number.MAX_SAFE_INTEGER;return p-F})});return(h,n)=>{const f=he;return k(),S("div",At,[n[12]||(n[12]=e("div",{class:"fw-bold"},"カードフィルター",-1)),n[13]||(n[13]=e("div",{class:"text-muted small"}," 各カテゴリ内はOR検索、カテゴリ間はAND検索です。 ",-1)),e("div",Pt,[e("div",Bt,[n[7]||(n[7]=e("div",{class:"fw-bold"},"カード名検索",-1)),e("div",Rt,[e("div",Et,[e("div",Nt,[e("div",Dt,[O(f,{icon:["fas","magnifying-glass"]})])])]),$(e("input",{"onUpdate:modelValue":n[0]||(n[0]=p=>C(_)?_.value=p:null),type:"text",class:"form-control"},null,512),[[K,t(_)]])])]),e("div",zt,[n[8]||(n[8]=e("div",{class:"fw-bold"},"スキル",-1)),e("div",qt,[(k(!0),S(B,null,E(t(b),p=>(k(),S("div",{key:p.value,class:"pill-check"},[$(e("input",{id:`skill-${p.value}`,"onUpdate:modelValue":n[1]||(n[1]=F=>C(d)?d.value=F:null),class:"btn-check",type:"checkbox",value:p.value},null,8,It),[[z,t(d)]]),e("label",{class:"btn btn-outline-primary rounded-pill",for:`skill-${p.value}`},L(p.label),9,jt)]))),128))])]),e("div",Gt,[n[9]||(n[9]=e("div",{class:"fw-bold"},"センタースキル",-1)),e("div",Xt,[(k(!0),S(B,null,E(t(r),p=>(k(),S("div",{key:p.value,class:"pill-check"},[$(e("input",{id:`center-skill-${p.value}`,"onUpdate:modelValue":n[2]||(n[2]=F=>C(o)?o.value=F:null),class:"btn-check",type:"checkbox",value:p.value},null,8,Ht),[[z,t(o)]]),e("label",{class:"btn btn-outline-success rounded-pill",for:`center-skill-${p.value}`},L(p.label),9,Kt)]))),128))])]),e("div",Wt,[n[10]||(n[10]=e("div",{class:"fw-bold"},"メンバー名",-1)),e("div",Jt,[(k(!0),S(B,null,E(t(J),p=>(k(),S("div",{key:p.value,class:"pill-check"},[$(e("input",{id:`member-${p.value}`,"onUpdate:modelValue":n[3]||(n[3]=F=>C(v)?v.value=F:null),class:"btn-check",type:"checkbox",value:p.value},null,8,Yt),[[z,t(v)]]),e("label",{class:I(["btn rounded-pill",[`btn-outline-${p.value}`]]),for:`member-${p.value}`},L(p.label),11,Qt)]))),128))])]),e("div",Zt,[n[11]||(n[11]=e("div",{class:"fw-bold"},"レアリティ",-1)),e("div",eo,[(k(!0),S(B,null,E(i.rarityOptions,p=>(k(),S("div",{key:p.value,class:"pill-check"},[$(e("input",{id:`rarity-${p.value}`,"onUpdate:modelValue":n[4]||(n[4]=F=>C(w)?w.value=F:null),class:"btn-check",type:"checkbox",value:p.value},null,8,lo),[[z,t(w)]]),e("label",{class:"btn btn-outline-secondary rounded-pill",for:`rarity-${p.value}`},L(p.label),9,to)]))),128))])]),e("div",oo,[e("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:n[5]||(n[5]=p=>y("clear"))}," フィルター解除 ")]),e("div",so,[e("button",{type:"button",class:"btn btn-primary",onClick:n[6]||(n[6]=p=>y("close"))}," 閉じる ")])])])}}}),ao=Object.assign(Fe(no,[["__scopeId","data-v-ddafbd4c"]]),{__name:"AutoFormationCardFilters"}),ro=Sl.filter(i=>i!=="dr2"),io={vol_buff:"ボルテージ獲得量アップ",vol_up:"ボルテージゲイン",vol_down:"ボルテージダウン",score_buff:"スコア獲得量アップ",score_up:"スコアアップ",mental_up:"メンタル回復",mental_down:"メンタルダメージ",ap_up:"APゲイン",ap_down:"APダウン",ap_change:"AP変化",reset:"デッキリセット",splice:"カード除外"},ce=i=>{if(!i)return[];const c=new Set,u=/([a-z0-9_]+)\s*\(/g;let y;for(;(y=u.exec(i))!==null;)c.add(y[1]);return Array.from(c)},ze=i=>io[i]??`特殊スキル（${i}）`,uo=i=>{const c=x(""),u=x([]),y=x([]),_=x([]),d=x([]),o=U(()=>{const n=new Set;return i.value.forEach(f=>{const p=g.value.get(M(f))?.skill;ce(p||"").forEach(F=>n.add(F))}),Array.from(n).map(f=>({value:f,label:ze(f)})).sort((f,p)=>f.label.localeCompare(p.label,"ja"))}),v=U(()=>{const n=new Set;return i.value.forEach(f=>{const p=g.value.get(M(f))?.centerSkill;ce(p||"").forEach(F=>n.add(F))}),Array.from(n).map(f=>({value:f,label:ze(f)})).sort((f,p)=>f.label.localeCompare(p.label,"ja"))}),w=U(()=>{const n=new Set;return i.value.forEach(f=>n.add(f.key)),Array.from(n).map(f=>({value:f,label:qe[f]||f})).sort((f,p)=>f.label.localeCompare(p.label,"ja"))}),s=U(()=>ro.map(n=>({value:n,label:n.toUpperCase()}))),g=U(()=>new Map(i.value.map(n=>{const f=le(n,14,14);return[M(n),{skill:f.skill,centerSkill:f.centerSkill||""}]}))),b=U(()=>new Map(i.value.map(n=>{const f=g.value.get(M(n))?.skill||"";return[M(n),ce(f)]}))),r=U(()=>new Map(i.value.map(n=>{const f=g.value.get(M(n))?.centerSkill||"";return[M(n),ce(f)]})));return{searchText:c,selectedSkills:u,selectedCenterSkills:y,selectedMembers:_,selectedRarities:d,skillFilterOptions:o,centerSkillFilterOptions:v,memberFilterOptions:w,rarityFilterOptions:s,clearFilters:()=>{u.value=[],y.value=[],_.value=[],d.value=[]},isCardVisible:n=>{if(!W(n).toLowerCase().includes(c.value.toLowerCase()))return!1;if(u.value.length>0){const F=b.value.get(M(n))||[];if(!u.value.some(X=>F.includes(X)))return!1}if(y.value.length>0){const F=r.value.get(M(n))||[];if(!y.value.some(X=>F.includes(X)))return!1}if(_.value.length>0&&!_.value.includes(n.key))return!1;const p=n.rarity==="dr2"?"dr":n.rarity;return!(d.value.length>0&&!d.value.includes(p))}}},vo={class:"mb-3"},co={class:"my-2"},po={class:"card my-2"},mo={class:"card-body"},fo={class:"table"},bo={class:"card my-2"},ko={class:"card-body"},yo={class:"table"},go={key:0,rowspan:"14"},xo={class:"card my-2"},So={class:"card-body"},Co={class:"table"},_o={class:"card my-2"},wo={class:"card-body"},$o=G({__name:"MdCardDetails",props:{onClose:{},card:{},displayLevel:{}},setup(i){const c=i,u=U(()=>Array.from({length:14},(o,v)=>$l(le(c.card,v+1,v+1)))),y=Ge(new Set([...Cl[c.card.rarity].map(([o])=>o),c.displayLevel])),_=U(()=>Array.from(y).sort((o,v)=>o-v)),d=U(()=>_.value.map(o=>le(c.card,1,1,o)));return(o,v)=>{const w=je;return k(),ne(w,{"on-close":i.onClose},{default:P(()=>[e("h3",vo,L(t(W)(i.card)),1),e("div",co,[e("div",po,[v[6]||(v[6]=e("div",{class:"card-header"}," ステータス ",-1)),e("div",mo,[e("table",fo,[e("thead",null,[e("tr",null,[v[1]||(v[1]=e("th",null,"ステータス",-1)),(k(!0),S(B,null,E(t(_),s=>(k(),S("th",{key:`status-${s}`}," Lv."+L(s),1))),128))])]),e("tbody",null,[e("tr",null,[v[2]||(v[2]=e("td",null,"スマイル",-1)),(k(!0),S(B,null,E(t(d),s=>(k(),S("td",{key:`status-smile-${s.key}`},L(s.smile),1))),128))]),e("tr",null,[v[3]||(v[3]=e("td",null,"ピュア",-1)),(k(!0),S(B,null,E(t(d),s=>(k(),S("td",{key:`status-pure-${s.key}`},L(s.pure),1))),128))]),e("tr",null,[v[4]||(v[4]=e("td",null,"クール",-1)),(k(!0),S(B,null,E(t(d),s=>(k(),S("td",{key:`status-cool-${s.key}`},L(s.cool),1))),128))]),e("tr",null,[v[5]||(v[5]=e("td",null,"メンタル",-1)),(k(!0),S(B,null,E(t(d),s=>(k(),S("td",{key:`status-mental-${s.key}`},L(s.mental),1))),128))])])])])]),e("div",bo,[v[8]||(v[8]=e("div",{class:"card-header"}," センタースキル ",-1)),e("div",ko,[e("table",yo,[v[7]||(v[7]=e("thead",null,[e("tr",null,[e("th",null,"スキルLv."),e("th",null,"発動条件"),e("th",null,"効果")])],-1)),e("tbody",null,[(k(!0),S(B,null,E(t(u),(s,g)=>(k(),S("tr",{key:`center-skill-${g}`},[e("td",null,L(g+1),1),g===0?(k(),S("td",go,L(t(_l)(s.centerSkillCondition)),1)):ee("",!0),e("td",null,L(t(Ne)(s.centerSkills)),1)]))),128))])])])]),e("div",xo,[v[10]||(v[10]=e("div",{class:"card-header"}," スキル ",-1)),e("div",So,[e("table",Co,[v[9]||(v[9]=e("thead",null,[e("tr",null,[e("th",null,"スキルLv."),e("th",null,"効果")])],-1)),e("tbody",null,[(k(!0),S(B,null,E(t(u),(s,g)=>(k(),S("tr",{key:`skill-${g}`},[e("td",null,L(g+1),1),e("td",null,L(t(Ne)(s.skills)),1)]))),128))])])])]),e("div",_o,[v[11]||(v[11]=e("div",{class:"card-header"}," センター特性 ",-1)),e("div",wo,L(t(wl)(t(u)[0].centerAbilities)),1)]),e("button",{class:"btn btn-primary",onClick:v[0]||(v[0]=s=>i.onClose(null))}," 閉じる ")])]),_:1},8,["on-close"])}}}),Lo=Object.assign($o,{__name:"MdCardDetails"}),Mo={class:"container-md"},Vo={class:"card my-2"},Uo={class:"card-body"},To={class:"table"},Fo={scope:"col"},ho={class:"d-flex align-items-center gap-2"},Oo={style:{"text-align":"right"}},Ao={class:"d-flex gap-3 justify-content-end"},Po={class:"d-flex gap-2"},Bo=["disabled"],Ro={class:"card my-2"},Eo={class:"card-body"},No={class:"mb-2"},Do={class:"row"},zo={class:"col-auto"},qo={style:{"vertical-align":"super","font-size":"0.8em"}},Io={class:"col-auto"},jo={style:{"vertical-align":"super","font-size":"0.8em"}},Go={class:"col-auto"},Xo={style:{"vertical-align":"super","font-size":"0.8em"}},Ho={class:"mb-2"},Ko={class:"row"},Wo={class:"col-auto"},Jo={style:{"vertical-align":"super","font-size":"0.8em"}},Yo={class:"col-auto"},Qo={style:{"vertical-align":"super","font-size":"0.8em"}},Zo={class:"mb-2"},es={class:"row"},ls={class:"col-auto"},ts={class:"col-auto"},os={class:"mb-2"},ss={class:"form-check"},ns={class:"form-check-label",for:"parallel"},as={class:"form-check"},rs={class:"form-check"},is={class:"form-check"},ds={class:"form-check"},us={class:"form-check"},vs={class:"form-check"},cs={class:"form-check"},ps={key:2},ms={class:"card my-2"},fs={class:"card-body"},bs=["value"],ks={class:"d-flex gap-2 align-items-center"},xs=G({__name:"auto-formation",setup(i){const c=x("finished"),u=x(void 0),y=async()=>{if(u.value)try{await u.value.release(),u.value=void 0}catch(m){console.error(m)}if("wakeLock"in navigator)try{u.value=await navigator.wakeLock.request("screen")}catch(m){console.error(m)}};Q(c,async m=>{if(m==="finished")try{await u.value?.release(),u.value=void 0}catch(l){console.error(l)}});const _=x(""),d=x(""),o=x(0),v=x(0),w=x("smile"),s=x(50),g=x("perfect"),b=x("current"),r=x("score"),J=x(!0),h=x(!0),n=x(!0),f=x(!0),p=x(!1),F=x([]),X=x(!0),ae=x(!0),re=x(!1),ie=Ie("seasonFanLvs",{kaho:1,sayaka:1,rurino:1,ginko:1,kosuzu:1,hime:1,ceras:1,izumi:1,kozue:1,tsuzuri:1,megumi:1}),N=x([...Ll]),{searchText:me,selectedSkills:fe,selectedCenterSkills:be,selectedMembers:ke,selectedRarities:ye,skillFilterOptions:He,centerSkillFilterOptions:Ke,memberFilterOptions:We,rarityFilterOptions:Je,clearFilters:Ye,isCardVisible:Qe}=uo(N),ge=x(!1),Ze=()=>{ge.value=!0},Pe=()=>{ge.value=!1},A=x(Object.fromEntries(N.value.map(m=>[M(m),{level:q[m.rarity]||1,centerSkillLevel:10,skillLevel:10,friendLevel:q[m.rarity]||1,friendCenterSkillLevel:14,selected:"optional",friendPosession:!1}]))),el=(m,l)=>{A.value[m]=l},ll=U(()=>N.value.filter(m=>A.value[M(m)]?.selected==="required").length),tl=U(()=>N.value.filter(m=>A.value[M(m)]?.selected==="excluded").length),ol=U(()=>N.value.filter(m=>A.value[M(m)]?.selected==="optional").length),te=x([]),xe=x([]),Se=x(0),Ce=x(1);pe(()=>{Ce.value=navigator.hardwareConcurrency||4});const D=x(null),sl=U(()=>xe.value.reduce((m,l)=>m+l,0)),Be=x(Promise.resolve()),nl=m=>{te.value=Array.from({length:m},()=>new Worker(new URL(""+new URL("calc-worker-parallel-B5qI6hYS.js",import.meta.url).href,import.meta.url),{type:"module"})),te.value.forEach((l,H)=>{l.onmessage=R=>{switch(R.data.message){case"calcScore":Be.value=Be.value.then(async()=>{R.data.data.score>(D.value?.score||0)&&(D.value={score:R.data.data.score,liveGrandPrixPt:R.data.data.liveGrandPrixPt,members:R.data.data.members,centerMember:R.data.data.centerMember,friendMember:R.data.data.friendMember,log:R.data.data.log})});break;case"progress":xe.value[H]=R.data.data.progress;break;case"end":Se.value++,Se.value===te.value.length&&(c.value="finished");break}}})},al=()=>{const m=J.value?Ce.value:1;nl(m),y(),D.value=null,xe.value=Array.from({length:m},()=>0),Se.value=0;const l=Ul(_.value,o.value),H=N.value.filter(V=>A.value[M(V)]&&A.value[M(V)].selected==="required").map(V=>le(V,A.value[M(V)]?.skillLevel||10,A.value[M(V)]?.centerSkillLevel||10,A.value[M(V)]?.level||1));if(H.length>6){il("必須のメンバーが6人を超えています");return}const R=N.value.filter(V=>!A.value[M(V)]?.selected||A.value[M(V)].selected==="optional").map(V=>le(V,A.value[M(V)]?.skillLevel||10,A.value[M(V)]?.centerSkillLevel||10,A.value[M(V)]?.level||1)),ve=p.value?[]:N.value.filter(V=>A.value[M(V)]?.friendPosession).map(V=>le(V,10,A.value[M(V)]?.friendCenterSkillLevel||10,A.value[M(V)]?.friendLevel||1));c.value="running",te.value.forEach((V,we)=>{V.postMessage(JSON.parse(JSON.stringify({requiredMembers:H,optionalMembers:R,friendMembers:ve,notes:l,center:d.value,attribute:w.value,masteryLevel:s.value,playStyle:g.value,formationRule:b.value,includingCenterOnly:X.value,includeFriendOnlyCenter:h.value,requireVolUpAndScoreUp:n.value,requireScoreBuff:f.value,noLog:ae.value,noDamagedFormation:re.value,scoreComparisonRule:r.value,seasonFanLvs:ie.value,singers:F.value,batchNum:m,batchIndex:we})))})},rl=()=>{te.value.forEach(m=>{m.terminate()}),c.value="finished"},il=m=>{window.alert(m)},{modals:dl,openModal:ul}=Ml(),vl=async m=>{await ul(Lo,{card:m,displayLevel:A.value[M(m)]?.level||1})},_e=x(null),cl=()=>{const m=_e.value?.files?.[0];if(m){const l=new FileReader;l.onload=H=>{const R=H.target?.result;N.value=N.value.concat(Tl(R))},l.readAsText(m)}},pl=x(null),Re=x(!1),ml=()=>{N.value=N.value.concat(Fl),Re.value=!0},de=x("none"),{skillCaches:Y}=Ae(),ue=U(()=>({spade:Array.from(Y.values()).filter(m=>m.value.mark==="spade").length,heart:Array.from(Y.values()).filter(m=>m.value.mark==="heart").length,diamond:Array.from(Y.values()).filter(m=>m.value.mark==="diamond").length,club:Array.from(Y.values()).filter(m=>m.value.mark==="club").length,none:Array.from(Y.values()).filter(m=>m.value.mark==="none").length})),fl=()=>{D.value?.members.forEach(m=>{const l=Y.get(M(m));l&&(l.value={...l.value,mark:de.value})})};return Kl({title:"スクショウ自動編成機",ogTitle:"スクショウ自動編成機",description:"スクショウの編成を自動で計算します",ogDescription:"スクショウの編成を自動で計算します"}),Vl(window,"beforeunload",m=>{if(c.value==="running")return m.preventDefault(),"計算中です"}),(m,l)=>{const H=hl,R=it,ve=Yl,V=he,we=_t,bl=Vt,oe=Ut,kl=Oe,yl=Ot,gl=ao;return k(),S("div",Mo,[l[77]||(l[77]=e("h1",null,"スクショウ自動編成機",-1)),l[78]||(l[78]=e("a",{href:"https://note.com/asmape/n/nefd46574f4e3",target:"_blank"},"note",-1)),O(H,{"note-text":t(_),"onUpdate:noteText":l[0]||(l[0]=a=>C(_)?_.value=a:null),center:t(d),"onUpdate:center":l[1]||(l[1]=a=>C(d)?d.value=a:null),offset:t(o),"onUpdate:offset":l[2]||(l[2]=a=>C(o)?o.value=a:null),"combo-offset":t(v),"onUpdate:comboOffset":l[3]||(l[3]=a=>C(v)?v.value=a:null),attribute:t(w),"onUpdate:attribute":l[4]||(l[4]=a=>C(w)?w.value=a:null),"mastery-level":t(s),"onUpdate:masteryLevel":l[5]||(l[5]=a=>C(s)?s.value=a:null),singers:t(F),"onUpdate:singers":l[6]||(l[6]=a=>C(F)?F.value=a:null)},null,8,["note-text","center","offset","combo-offset","attribute","mastery-level","singers"]),O(ve,null,{default:P(()=>[O(R,{"season-fan-lvs":t(ie),"onUpdate:seasonFanLvs":l[7]||(l[7]=a=>C(ie)?ie.value=a:null)},null,8,["season-fan-lvs"])]),_:1}),e("div",Vo,[l[45]||(l[45]=e("div",{class:"card-header"}," メンバー ",-1)),e("div",Uo,[e("table",To,[e("thead",null,[e("tr",null,[e("th",Fo,[e("div",ho,[l[31]||(l[31]=e("span",null,"カード",-1)),e("button",{type:"button",class:"btn btn-link p-0","aria-label":"カードフィルターを開く",onClick:Ze},[O(V,{icon:["fas","filter"]})])])]),l[32]||(l[32]=e("th",{scope:"col"},"AP",-1)),l[33]||(l[33]=e("th",{scope:"col"},"Lv.",-1)),l[34]||(l[34]=e("th",{scope:"col"},"Sk Lv.",-1)),l[35]||(l[35]=e("th",{scope:"col"},"CtSk Lv.",-1)),l[36]||(l[36]=e("th",{scope:"col"},"凸数",-1)),l[37]||(l[37]=e("th",{scope:"col"},"選択",-1)),l[38]||(l[38]=e("th",{scope:"col"},"フレンド",-1)),l[39]||(l[39]=e("th",{scope:"col"},"マーク",-1))])]),e("tbody",null,[O(ve,{"fallback-tag":"tr"},{default:P(()=>[(k(!0),S(B,null,E(t(N),a=>(k(),ne(we,{key:t(W)(a),"is-visible":t(Qe)(a),card:a,"open-card-details-modal":vl,"onUpdate:skillLevel":$e=>el(t(M)(a),$e)},null,8,["is-visible","card","onUpdate:skillLevel"]))),128))]),_:1})])]),e("div",Oo," 必須："+L(t(ll))+" 任意："+L(t(ol))+" 除外："+L(t(tl)),1),e("div",Ao,[e("div",null,[l[40]||(l[40]=e("span",{style:{color:"#ddbb00"}},"♥",-1)),T("："+L(t(ue).heart),1)]),e("div",null,[l[41]||(l[41]=e("span",{style:{color:"#6666dd"}},"♦",-1)),T("："+L(t(ue).diamond),1)]),e("div",null,[l[42]||(l[42]=e("span",{style:{color:"#888"}},"♠",-1)),T("："+L(t(ue).spade),1)]),e("div",null,[l[43]||(l[43]=e("span",{style:{color:"#ff88aa"}},"♣",-1)),T("："+L(t(ue).club),1)])]),e("div",Po,[e("button",{type:"button",class:"btn btn-primary",onClick:l[8]||(l[8]=a=>t(_e)?.click())}," TSVインポート "),e("button",{type:"button",class:"btn btn-primary",disabled:t(Re),onClick:l[9]||(l[9]=a=>ml())}," 後衛カード追加 ",8,Bo)]),l[44]||(l[44]=e("div",null,[e("a",{href:"https://docs.google.com/spreadsheets/d/13moGCQN2fd9_kxc5g3M9go98Sw6Y8fO25nDxKFoDsDk/edit?gid=1837505339#gid=1837505339",target:"_blank"}," 後衛カード一覧 ")],-1)),e("input",{ref_key:"tsvFileInput",ref:_e,type:"file",class:"d-none",onChange:cl},null,544)])]),O(bl),e("div",Ro,[l[76]||(l[76]=e("div",{class:"card-header"}," 計算 ",-1)),e("div",Eo,[e("div",No,[l[52]||(l[52]=T(" プレイスタイル： ",-1)),e("div",Do,[e("div",zo,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[10]||(l[10]=a=>C(g)?g.value=a:null),class:"form-check-input",type:"radio",value:"perfect"},null,512),[[j,t(g)]]),l[46]||(l[46]=T(" 渾身 ",-1))]),O(oe,null,{target:P(()=>[e("a",qo,[O(V,{icon:"circle-info"})])]),default:P(()=>[l[47]||(l[47]=T(" フルコンを目指すプレイ ",-1))]),_:1})]),e("div",Io,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[11]||(l[11]=a=>C(g)?g.value=a:null),class:"form-check-input",type:"radio",value:"desperate"},null,512),[[j,t(g)]]),l[48]||(l[48]=T(" 背水 ",-1))]),O(oe,null,{target:P(()=>[e("a",jo,[O(V,{icon:"circle-info"})])]),default:P(()=>[l[49]||(l[49]=T(" メンタルが10%以下になるようミスをするプレイ ",-1))]),_:1})]),e("div",Go,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[12]||(l[12]=a=>C(g)?g.value=a:null),class:"form-check-input",type:"radio",value:"desperate1"},null,512),[[j,t(g)]]),l[50]||(l[50]=T(" 1%背水 ",-1))]),O(oe,null,{target:P(()=>[e("a",Xo,[O(V,{icon:"circle-info"})])]),default:P(()=>[l[51]||(l[51]=T(" メンタルが1%以下になるようミスをするプレイ。MISSのみで1%を達成できない編成は計算できません。 ",-1))]),_:1})])])]),e("div",Ho,[l[61]||(l[61]=T(" 編成ルール： ",-1)),e("div",Ko,[e("div",Wo,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[13]||(l[13]=a=>C(b)?b.value=a:null),class:"form-check-input",type:"radio",value:"current"},null,512),[[j,t(b)]]),l[53]||(l[53]=T(" 通常ルール ",-1))]),O(oe,null,{target:P(()=>[e("a",Jo,[O(V,{icon:"circle-info"})])]),default:P(()=>[l[54]||(l[54]=T(" ・メンバー1人あたり1種類まで",-1)),l[55]||(l[55]=e("br",null,null,-1)),l[56]||(l[56]=T(" ・カード制限なし ",-1))]),_:1})]),e("div",Yo,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[14]||(l[14]=a=>C(b)?b.value=a:null),class:"form-check-input",type:"radio",value:"new_grand_prix"},null,512),[[j,t(b)]]),l[57]||(l[57]=T(" ライグラルール ",-1))]),O(oe,null,{target:P(()=>[e("a",Qo,[O(V,{icon:"circle-info"})])]),default:P(()=>[l[58]||(l[58]=T(" ・メンバー1人あたり2種類まで",-1)),l[59]||(l[59]=e("br",null,null,-1)),l[60]||(l[60]=T(" ・DRは1枚まで ",-1))]),_:1})])])]),e("div",Zo,[l[64]||(l[64]=T(" スコア比較基準： ",-1)),e("div",es,[e("div",ls,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[15]||(l[15]=a=>C(r)?r.value=a:null),class:"form-check-input",type:"radio",value:"score"},null,512),[[j,t(r)]]),l[62]||(l[62]=T(" スコア ",-1))])]),e("div",ts,[e("label",null,[$(e("input",{"onUpdate:modelValue":l[16]||(l[16]=a=>C(r)?r.value=a:null),class:"form-check-input",type:"radio",value:"grandPrixPt"},null,512),[[j,t(r)]]),l[63]||(l[63]=T(" グランプリpt ",-1))])])])]),e("div",os,[l[72]||(l[72]=T(" オプション： ",-1)),e("div",ss,[$(e("input",{id:"parallel","onUpdate:modelValue":l[17]||(l[17]=a=>C(J)?J.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(J)]]),e("label",ns," マルチスレッド ("+L(t(Ce))+"スレッド) ",1)]),e("div",as,[$(e("input",{id:"includingCenterOnly","onUpdate:modelValue":l[18]||(l[18]=a=>C(X)?X.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(X)]]),l[65]||(l[65]=e("label",{class:"form-check-label",for:"includingCenterOnly"}," センターのメンバーを含まない編成は計算しない ",-1))]),e("div",rs,[$(e("input",{id:"includeFriendOnlyCenter","onUpdate:modelValue":l[19]||(l[19]=a=>C(h)?h.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(h)]]),l[66]||(l[66]=e("label",{class:"form-check-label",for:"includeFriendOnlyCenter"}," フレンドはセンターのメンバーのみ採用する ",-1))]),e("div",is,[$(e("input",{id:"requireVolUpAndScoreUp","onUpdate:modelValue":l[20]||(l[20]=a=>C(n)?n.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(n)]]),l[67]||(l[67]=e("label",{class:"form-check-label",for:"requireVolUpAndScoreUp"}," スキルにボルテージゲインとスコアアップを含まない編成は除外する ",-1))]),e("div",ds,[$(e("input",{id:"requireScoreBuff","onUpdate:modelValue":l[21]||(l[21]=a=>C(f)?f.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(f)]]),l[68]||(l[68]=e("label",{class:"form-check-label",for:"requireScoreBuff"}," スキルにスコア獲得量アップを含まない編成は除外する ",-1))]),e("div",us,[$(e("input",{id:"noLog","onUpdate:modelValue":l[22]||(l[22]=a=>C(ae)?ae.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(ae)]]),l[69]||(l[69]=e("label",{class:"form-check-label",for:"noLog"}," ログを出力しない（効果大） ",-1))]),e("div",vs,[$(e("input",{id:"noDamagedFormation","onUpdate:modelValue":l[23]||(l[23]=a=>C(re)?re.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(re)]]),l[70]||(l[70]=e("label",{class:"form-check-label",for:"noDamagedFormation"}," 途中でメンタルが100%未満になった場合計算を打ち切る（渾身選択時以外は自動で無効） ",-1))]),e("div",cs,[$(e("input",{id:"noConsiderFriend","onUpdate:modelValue":l[24]||(l[24]=a=>C(p)?p.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(p)]]),l[71]||(l[71]=e("label",{class:"form-check-label",for:"noConsiderFriend"}," フレンドなし固定 ",-1))])]),t(c)!=="running"?(k(),S("button",{key:0,type:"button",class:"btn btn-primary",onClick:al}," 計算 ")):ee("",!0),t(c)==="running"?(k(),S("button",{key:1,type:"button",class:"btn btn-primary",onClick:rl}," 中止 ")):ee("",!0),t(D)?(k(),S("div",ps,[e("p",{ref_key:"progressView",ref:pl},L(t(c)==="running"?`計算中... ${t(sl).toFixed(3)}%`:"計算完了"),513),e("div",ms,[e("div",fs,[e("p",null,"最高得点: "+L(t(D).score)+" ("+L(t(D).liveGrandPrixPt)+"pt)",1),l[75]||(l[75]=e("p",null,"メンバー:",-1)),e("ul",null,[(k(!0),S(B,null,E(t(D).members,a=>(k(),S("li",{key:t(M)(a),style:Z({fontWeight:t(D).centerMember&&t(W)(a)===t(W)(t(D).centerMember)?"bold":"normal"})},L(t(W)(a)),5))),128))]),e("p",null,"フレンド: "+L(t(D).friendMember?t(W)(t(D).friendMember):"なし"),1),e("textarea",{class:"form-control",value:t(D).log,readonly:"",rows:"5"},null,8,bs),e("div",ks,[l[73]||(l[73]=e("div",null,"編成に使用したカードを",-1)),e("div",null,[O(kl,{modelValue:t(de),"onUpdate:modelValue":l[25]||(l[25]=a=>C(de)?de.value=a:null),class:""},null,8,["modelValue"])]),l[74]||(l[74]=e("div",null,"にする",-1)),e("button",{class:"btn btn-primary",onClick:fl},"実行")])])])])):ee("",!0)])]),O(yl),t(ge)?(k(),ne(je,{key:0,"on-close":Pe},{default:P(()=>[O(gl,{"search-text":t(me),"onUpdate:searchText":l[26]||(l[26]=a=>C(me)?me.value=a:null),"selected-skills":t(fe),"onUpdate:selectedSkills":l[27]||(l[27]=a=>C(fe)?fe.value=a:null),"selected-center-skills":t(be),"onUpdate:selectedCenterSkills":l[28]||(l[28]=a=>C(be)?be.value=a:null),"selected-members":t(ke),"onUpdate:selectedMembers":l[29]||(l[29]=a=>C(ke)?ke.value=a:null),"selected-rarities":t(ye),"onUpdate:selectedRarities":l[30]||(l[30]=a=>C(ye)?ye.value=a:null),"skill-options":t(He),"center-skill-options":t(Ke),"member-options":t(We),"rarity-options":t(Je),onClear:t(Ye),onClose:Pe},null,8,["search-text","selected-skills","selected-center-skills","selected-members","selected-rarities","skill-options","center-skill-options","member-options","rarity-options","onClear"])]),_:1})):ee("",!0),(k(!0),S(B,null,E(t(dl),(a,$e)=>(k(),ne(Wl(a.component),Xe({key:`modal-${$e}`,"on-close":a.onClose},{ref_for:!0},a.args),null,16,["on-close"]))),128))])}}});export{xs as default};
