import{m as Be,r as Ke,t as L,u as Ce,v as J,o as E,w as ge,d as We,b as ae,x as Je,g as He,s as _e,e as Xe,_ as Qe,a as Ye,j as Ze,p as el,y as ll,z as tl,k as nl}from"./BECmAS6s.js";import{f as P,z as ol,A as re,B as sl,C as al,c as m,D as rl,E as ul,G as il,H as dl,l as y,I as xe,o as p,a as e,F,n as O,j as C,t as f,m as t,v as I,q as cl,J as vl,p as z,_ as Le,K as $e,g as U,r as v,L as pl,h as j,d as $,b as S,k as we,x as D,i as pe,w as me,s as se,u as ml,M as K,N as fl,O as bl,P as kl,y as yl}from"./BXhVRxur.js";const gl=Symbol.for("nuxt:client-only"),_l=P({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(_,{slots:u,attrs:c}){const b=ol(!1);re(()=>{b.value=!0});const k=rl();return k&&(k._nuxtClientOnly=!0),ul(gl,!0),()=>{if(b.value){const i=u.default?.();return i&&i.length===1?[sl(i[0],c)]:i}const d=u.fallback||u.placeholder;if(d)return al(d);const n=_.fallback||_.placeholder||"",o=_.fallbackTag||_.placeholderTag||"span";return m(o,c,n)}}}),Cl="$s";function xl(..._){const u=typeof _[_.length-1]=="string"?_.pop():void 0;typeof _[0]!="string"&&_.unshift(u);const[c,b]=_;if(!c||typeof c!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+c);if(b!==void 0&&typeof b!="function")throw new Error("[nuxt] [useState] init must be a function: "+b);const k=Cl+c,d=il(),n=dl(d.payload.state,k);if(n.value===void 0&&b){const o=b();if(y(o))return d.payload.state[k]=o,o;n.value=o}return n}const Ll={class:"card my-2"},$l={class:"card-body"},wl={class:"row"},Ml={class:"input-group"},Sl={class:"input-group-prepend"},Vl={class:"input-group-text",style:{width:"74px","justify-content":"center"}},Ul=["onUpdate:modelValue"],hl=P({__name:"OSeasonFanLv",props:{seasonFanLvs:{required:!0},seasonFanLvsModifiers:{}},emits:["update:seasonFanLvs"],setup(_){const u=xe(_,"seasonFanLvs"),c=["kaho","sayaka","rurino","ginko","kosuzu","hime","ceras","izumi"];return(b,k)=>(p(),m("div",Ll,[k[0]||(k[0]=e("div",{class:"card-header"}," Season Fan Lv. ",-1)),e("div",$l,[e("div",wl,[(p(),m(F,null,O(c,d=>e("div",{key:d,class:"col-12 col-sm-6 col-md-4 col-lg-3 mb-2"},[e("div",Ml,[e("div",Sl,[e("div",Vl,[e("span",null,f(t(Be)[d]),1)])]),C(e("input",{"onUpdate:modelValue":n=>u.value[d]=n,type:"number",class:"form-control",min:"1",max:"10"},null,8,Ul),[[I,u.value[d],void 0,{number:!0}]])])])),64))])])]))}}),Tl=Object.assign(hl,{__name:"OSeasonFanLv"}),Fl=P({__name:"AMarkSelect",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(_){const u=xe(_,"modelValue");return(c,b)=>C((p(),m("select",{"onUpdate:modelValue":b[0]||(b[0]=k=>u.value=k),class:z(["form-select marker-select",[u.value]])},b[1]||(b[1]=[vl('<option value="none" data-v-4055ea95>-</option><option value="heart" data-v-4055ea95>♥</option><option value="diamond" data-v-4055ea95>♦</option><option value="spade" data-v-4055ea95>♠</option><option value="club" data-v-4055ea95>♣</option>',5)]),2)),[[cl,u.value]])}}),fe=Object.assign(Le(Fl,[["__scopeId","data-v-4055ea95"]]),{__name:"AMarkSelect"}),be=Ke(()=>({skillCaches:$e(new Map)})),Ol=["max"],Al={class:"row"},Dl={class:"col form-check-label"},Rl={class:"col form-check-label"},Pl={class:"col form-check-label"},Nl=P({__name:"MMemberRow",props:{card:{},openCardDetailsModal:{type:Function}},emits:["update:skillLevel"],setup(_,{emit:u}){const c=_,b=u,k=U(()=>L(c.card)),d=v("optional"),n=Ce(k,{level:J[c.card.rarity]||1,centerSkillLevel:10,skillLevel:10,lbCount:1,selected:"optional",mark:"none"}),{skillCaches:o}=be();return re(()=>{o.set(k.value,n)}),pl(()=>{o.delete(k.value)}),n.value.level||(n.value.level=J[c.card.rarity]||1),n.value.lbCount||(n.value.lbCount=1),n.value.mark||(n.value.mark="none"),j(d,i=>{n.value.selected!==i&&(n.value.selected=i)}),j(n,i=>{d.value!==i.selected&&(d.value=i.selected)}),j(U(()=>n.value.skillLevel),i=>{i>10&&(n.value.lbCount=Math.max(n.value.lbCount,i-9))}),j(U(()=>n.value.centerSkillLevel),i=>{i>10&&(n.value.lbCount=Math.max(n.value.lbCount,i-9))}),j(n,i=>{b("update:skillLevel",i)}),re(()=>{d.value=n.value.selected||"optional",b("update:skillLevel",n.value)}),(i,a)=>{const w=we,A=fe;return p(),m("tr",null,[e("td",null,[$(f(t(E)(i.card))+" ",1),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:a[0]||(a[0]=g=>i.openCardDetailsModal(i.card))},[S(w,{icon:"circle-info"})])]),e("td",{class:z({"gained-ap":t(ge)(i.card,t(n).level)>0})},f(i.card.ap+t(ge)(i.card,t(n).level)),3),e("td",null,[C(e("input",{"onUpdate:modelValue":a[1]||(a[1]=g=>t(n).level=g),class:z(["form-control",{"not-max":t(n).level!==t(J)[i.card.rarity]}]),type:"number",min:"1",max:t(J)[i.card.rarity],onChange:a[2]||(a[2]=g=>b("update:skillLevel",t(n)))},null,42,Ol),[[I,t(n).level,void 0,{number:!0}]])]),e("td",null,[C(e("input",{"onUpdate:modelValue":a[3]||(a[3]=g=>t(n).skillLevel=g),class:z([[t(n).skillLevel>10?`level-exceeded-${t(n).skillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[I,t(n).skillLevel,void 0,{number:!0}]])]),e("td",null,[C(e("input",{"onUpdate:modelValue":a[4]||(a[4]=g=>t(n).centerSkillLevel=g),class:z([[t(n).centerSkillLevel>10?`level-exceeded-${t(n).centerSkillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[I,t(n).centerSkillLevel,void 0,{number:!0}]])]),e("td",null,[C(e("input",{"onUpdate:modelValue":a[5]||(a[5]=g=>t(n).lbCount=g),class:z(["form-control",[t(n).lbCount>1?`level-exceeded-${t(n).lbCount-1}`:""]]),type:"number",min:"1",max:"5"},null,2),[[I,t(n).lbCount,void 0,{number:!0}]])]),e("td",{class:z({"required-bg":t(d)==="required","excluded-bg":t(d)==="excluded"})},[e("div",Al,[e("label",Dl,[C(e("input",{"onUpdate:modelValue":a[6]||(a[6]=g=>y(d)?d.value=g:null),class:"form-check-input",type:"radio",value:"required"},null,512),[[D,t(d)]]),a[10]||(a[10]=$(" 必須 ",-1))]),e("label",Rl,[C(e("input",{"onUpdate:modelValue":a[7]||(a[7]=g=>y(d)?d.value=g:null),class:"form-check-input",type:"radio",value:"optional"},null,512),[[D,t(d)]]),a[11]||(a[11]=$(" 任意 ",-1))]),e("label",Pl,[C(e("input",{"onUpdate:modelValue":a[8]||(a[8]=g=>y(d)?d.value=g:null),class:"form-check-input",type:"radio",value:"excluded"},null,512),[[D,t(d)]]),a[12]||(a[12]=$(" 除外 ",-1))])])],2),e("td",null,[S(A,{modelValue:t(n).mark,"onUpdate:modelValue":a[9]||(a[9]=g=>t(n).mark=g)},null,8,["modelValue"])])])}}}),zl=Object.assign(Le(Nl,[["__scopeId","data-v-fb7c3a86"]]),{__name:"MMemberRow"}),El={class:"card my-2"},ql={class:"card-body"},jl={class:"d-flex gap-2 align-items-center"},Il=P({__name:"OCardOperation",setup(_){const u=v("none"),{skillCaches:c}=be(),b=()=>{c.forEach(o=>{o.value.mark===u.value&&(console.log("setSelectedMarkToRequired",o.value.mark),o.value={...o.value,selected:"required"})})},k=()=>{c.forEach(o=>{o.value.mark===u.value&&(o.value={...o.value,selected:"optional"})})},d=()=>{c.forEach(o=>{o.value.mark===u.value&&(o.value={...o.value,selected:"excluded"})})},n=()=>{confirm("マークをリセットしますか？")&&c.forEach(o=>{o.value={...o.value,mark:"none"}})};return(o,i)=>{const a=fe;return p(),m("div",El,[i[2]||(i[2]=e("div",{class:"card-header"}," カード操作 ",-1)),e("div",ql,[e("div",jl,[e("div",null,[S(a,{modelValue:t(u),"onUpdate:modelValue":i[0]||(i[0]=w=>y(u)?u.value=w:null),class:""},null,8,["modelValue"])]),i[1]||(i[1]=e("div",null,"をすべて",-1)),e("button",{class:"btn btn-primary",onClick:b},"必須に"),e("button",{class:"btn btn-primary",onClick:k},"任意に"),e("button",{class:"btn btn-primary",onClick:d},"除外に")]),e("div",{class:"mt-2"},[e("button",{class:"btn btn-primary",onClick:n},"マークリセット")])])])}}}),Gl=Object.assign(Il,{__name:"OCardOperation"}),W=["スコアには楽曲マスタリーレベルとボルテージレベルの補正が乗る。スキルによるスコア獲得にも乗る。","コンボによるAP獲得量ボーナスはスキルにも乗る。","DRとLRは特殊なセンタースキルを持っている。強い。","「ボルテージPt.をXpt獲得／〜〜の時、ボルテージPt.をXpt獲得」みたいなスキルは、1番目のスキルにしか効果量増加が乗らない。","フィーバー中はボルテージ2倍になり獲得スコアも増加。スキルにも補正が乗るのでフィーバー中に発動できると強い。","ボルテージLv.7〜8（280〜449pt）のときに「[悠久の舞踏会] 大沢瑠璃乃」がループできると強い。","「[be proud] 乙宗梢」はスキルLv.12以上にすると手札からなくなるまでの回数が増えるので注意。","スキルLv.14の効果量はスキルLv.10の効果量の約1.5倍。切り捨ての関係でズレることはある。","フリックは実は下でも良い。"],Bl={class:"card my-2"},Kl={class:"card-body"},Wl=P({__name:"OTips",setup(_){const u=xl("currentTipIndex",()=>Math.floor(Math.random()*W.length)),c=U(()=>W[u.value]),b=()=>{u.value=(u.value+1)%W.length},k=()=>{u.value=(u.value-1+W.length)%W.length};return(d,n)=>(p(),m("div",Bl,[n[1]||(n[1]=e("div",{class:"card-header"}," Tips ",-1)),e("div",Kl,[e("div",null," （No. "+f(t(u)+1)+"）"+f(t(c)),1),e("button",{type:"button",class:"btn btn-primary",onClick:k}," ＜前 "),n[0]||(n[0]=$("   ",-1)),e("button",{type:"button",class:"btn btn-primary",onClick:b}," 次＞ ")])]))}}),Jl=Object.assign(Wl,{__name:"OTips"}),Hl={class:"mb-3"},Xl={class:"my-2"},Ql={class:"card my-2"},Yl={class:"card-body"},Zl={class:"table"},et={class:"card my-2"},lt={class:"card-body"},tt={class:"table"},nt={key:0,rowspan:"14"},ot={class:"card my-2"},st={class:"card-body"},at={class:"table"},rt={class:"card my-2"},ut={class:"card-body"},it=P({__name:"MdCardDetails",props:{onClose:{},card:{},displayLevel:{}},setup(_){const u=_,c=U(()=>Array.from({length:14},(n,o)=>We(ae(u.card,o+1,o+1)))),b=$e(new Set([...Je[u.card.rarity].map(([n])=>n),u.displayLevel])),k=U(()=>Array.from(b).sort((n,o)=>n-o)),d=U(()=>k.value.map(n=>ae(u.card,1,1,n)));return(n,o)=>{const i=Qe;return p(),pe(i,{"on-close":n.onClose},{default:me(()=>[e("h3",Hl,f(t(E)(n.card)),1),e("div",Xl,[e("div",Ql,[o[6]||(o[6]=e("div",{class:"card-header"}," ステータス ",-1)),e("div",Yl,[e("table",Zl,[e("thead",null,[e("tr",null,[o[1]||(o[1]=e("th",null,"ステータス",-1)),(p(!0),m(F,null,O(t(k),a=>(p(),m("th",{key:`status-${a}`}," Lv."+f(a),1))),128))])]),e("tbody",null,[e("tr",null,[o[2]||(o[2]=e("td",null,"スマイル",-1)),(p(!0),m(F,null,O(t(d),a=>(p(),m("td",{key:`status-smile-${a.key}`},f(a.smile),1))),128))]),e("tr",null,[o[3]||(o[3]=e("td",null,"ピュア",-1)),(p(!0),m(F,null,O(t(d),a=>(p(),m("td",{key:`status-pure-${a.key}`},f(a.pure),1))),128))]),e("tr",null,[o[4]||(o[4]=e("td",null,"クール",-1)),(p(!0),m(F,null,O(t(d),a=>(p(),m("td",{key:`status-cool-${a.key}`},f(a.cool),1))),128))]),e("tr",null,[o[5]||(o[5]=e("td",null,"メンタル",-1)),(p(!0),m(F,null,O(t(d),a=>(p(),m("td",{key:`status-mental-${a.key}`},f(a.mental),1))),128))])])])])]),e("div",et,[o[8]||(o[8]=e("div",{class:"card-header"}," センタースキル ",-1)),e("div",lt,[e("table",tt,[o[7]||(o[7]=e("thead",null,[e("tr",null,[e("th",null,"スキルLv."),e("th",null,"発動条件"),e("th",null,"効果")])],-1)),e("tbody",null,[(p(!0),m(F,null,O(t(c),(a,w)=>(p(),m("tr",{key:`center-skill-${w}`},[e("td",null,f(w+1),1),w===0?(p(),m("td",nt,f(t(He)(a.centerSkillCondition)),1)):se("",!0),e("td",null,f(t(_e)(a.centerSkills)),1)]))),128))])])])]),e("div",ot,[o[10]||(o[10]=e("div",{class:"card-header"}," スキル ",-1)),e("div",st,[e("table",at,[o[9]||(o[9]=e("thead",null,[e("tr",null,[e("th",null,"スキルLv."),e("th",null,"効果")])],-1)),e("tbody",null,[(p(!0),m(F,null,O(t(c),(a,w)=>(p(),m("tr",{key:`skill-${w}`},[e("td",null,f(w+1),1),e("td",null,f(t(_e)(a.skills)),1)]))),128))])])])]),e("div",rt,[o[11]||(o[11]=e("div",{class:"card-header"}," センター特性 ",-1)),e("div",ut,f(t(Xe)(t(c)[0].centerAbilities)),1)]),e("button",{class:"btn btn-primary",onClick:o[0]||(o[0]=a=>n.onClose(null))}," 閉じる ")])]),_:1},8,["on-close"])}}}),dt=Object.assign(it,{__name:"MdCardDetails"}),ct={class:"container-md"},vt={class:"card my-2"},pt={class:"card-body"},mt={class:"table"},ft={scope:"col"},bt={class:"d-flex align-items-end"},kt={class:""},yt={class:"input-group"},gt={class:"input-group-prepend"},_t={class:"input-group-text"},Ct={style:{"min-height":"1.5em"}},xt={style:{"text-align":"right"}},Lt={class:"d-flex gap-3 justify-content-end"},$t={class:"d-flex gap-2"},wt=["disabled"],Mt={class:"card my-2"},St={class:"card-body"},Vt={class:"mb-2"},Ut={class:"row"},ht={class:"col-auto"},Tt={class:"col-auto"},Ft={class:"mb-2"},Ot={class:"row"},At={class:"col-auto"},Dt={class:"col-auto"},Rt={class:"mb-2"},Pt={class:"row"},Nt={class:"col-auto"},zt={class:"col-auto"},Et={class:"mb-2"},qt={class:"form-check"},jt={class:"form-check-label",for:"parallel"},It={class:"form-check"},Gt={class:"form-check"},Bt={class:"form-check"},Kt={class:"form-check"},Wt={key:2},Jt={class:"card my-2"},Ht={class:"card-body"},Xt=["value"],Qt={class:"d-flex gap-2 align-items-center"},en=P({__name:"auto-formation",setup(_){const u=v("finished"),c=v(void 0),b=async()=>{if(c.value)try{await c.value.release(),c.value=void 0}catch{}if("wakeLock"in navigator)try{c.value=await navigator.wakeLock.request("screen")}catch(r){console.error(r)}};j(u,async r=>{if(r==="finished")try{await c.value?.release(),c.value=void 0}catch{}});const k=v(""),d=v(""),n=v(0),o=v(0),i=v("smile"),a=v(50),w=v("perfect"),A=v("current"),g=v("score"),H=v(!0),X=v([]),Q=Ce("seasonFanLvs",{kaho:1,sayaka:1,rurino:1,ginko:1,kosuzu:1,hime:1,ceras:1,izumi:1,kozue:1,tsuzuri:1,megumi:1}),Y=v(""),Z=v(!0),ee=v(!0),le=v(!1),te=v(!1),h=v([...Ye]),M=v(Object.fromEntries(h.value.map(r=>[L(r),{level:J[r.rarity]||1,centerSkillLevel:10,skillLevel:10,selected:"optional"}]))),Me=(r,l)=>{M.value[r]=l},Se=U(()=>h.value.filter(r=>M.value[L(r)]?.selected==="required").length),Ve=U(()=>h.value.filter(r=>M.value[L(r)]?.selected==="excluded").length),Ue=U(()=>h.value.filter(r=>M.value[L(r)]?.selected==="optional").length),G=v([]),ue=v([]),ie=v(0),de=v(1);re(()=>{de.value=navigator.hardwareConcurrency||4});const T=v(null),he=U(()=>ue.value.reduce((r,l)=>r+l,0)),ke=v(Promise.resolve()),Te=r=>{G.value=Array.from({length:r},()=>new Worker(new URL(""+new URL("calc-worker-parallel-Jwlzz_a6.js",import.meta.url).href,import.meta.url),{type:"module"})),G.value.forEach((l,R)=>{l.onmessage=V=>{switch(V.data.message){case"calcScore":ke.value=ke.value.then(async()=>{V.data.data.score>(T.value?.score||0)&&(T.value={score:V.data.data.score,liveGrandPrixPt:V.data.data.liveGrandPrixPt,members:V.data.data.members,centerMember:V.data.data.centerMember,log:V.data.data.log})});break;case"progress":ue.value[R]=V.data.data.progress;break;case"end":ie.value++,ie.value===G.value.length&&(u.value="finished");break}}})},Fe=()=>{const r=H.value?de.value:1;Te(r),b(),T.value=null,ue.value=Array.from({length:r},()=>0),ie.value=0;const l=el(k.value,n.value),R=h.value.filter(x=>M.value[L(x)]&&M.value[L(x)].selected==="required").map(x=>ae(x,M.value[L(x)]?.skillLevel||10,M.value[L(x)]?.centerSkillLevel||10,M.value[L(x)]?.level||1));if(R.length>6){B("必須のメンバーが6人を超えています");return}const V=h.value.filter(x=>!M.value[L(x)]?.selected||M.value[L(x)].selected==="optional").map(x=>ae(x,M.value[L(x)]?.skillLevel||10,M.value[L(x)]?.centerSkillLevel||10,M.value[L(x)]?.level||1));u.value="running",G.value.forEach((x,N)=>{x.postMessage(JSON.parse(JSON.stringify({requiredMembers:R,optionalMembers:V,notes:l,center:d.value,attribute:i.value,masteryLevel:a.value,playStyle:w.value,formationRule:A.value,includingCenterOnly:Z.value,noLog:ee.value,noDamagedFormation:le.value,noCuredFormation:te.value,scoreComparisonRule:g.value,seasonFanLvs:Q.value,singers:X.value,batchNum:r,batchIndex:N})))})},Oe=()=>{G.value.forEach(r=>{r.terminate()}),u.value="finished"},B=r=>{window.alert(r)},{modals:Ae,openModal:De}=Ze(),Re=async r=>{await De(dt,{card:r,displayLevel:M.value[L(r)]?.level||1})},ce=v(null),Pe=()=>{const r=ce.value?.files?.[0];if(r){const l=new FileReader;l.onload=R=>{const V=R.target?.result;h.value=h.value.concat(ll(V))},l.readAsText(r)}},Ne=v(null),ye=v(!1),ze=()=>{h.value=h.value.concat(tl),ye.value=!0},ne=v("none"),{skillCaches:q}=be(),oe=U(()=>({spade:Array.from(q.values()).filter(r=>r.value.mark==="spade").length,heart:Array.from(q.values()).filter(r=>r.value.mark==="heart").length,diamond:Array.from(q.values()).filter(r=>r.value.mark==="diamond").length,club:Array.from(q.values()).filter(r=>r.value.mark==="club").length,none:Array.from(q.values()).filter(r=>r.value.mark==="none").length})),Ee=()=>{T.value?.members.forEach(r=>{const l=q.get(L(r));l&&(l.value={...l.value,mark:ne.value})})};return ml({title:"スクショウ自動編成",meta:[{name:"twitter:title",content:"スクショウ自動編成"},{name:"description",content:"スクショウの編成を自動で計算します"}]}),(r,l)=>{const R=nl,V=Tl,x=_l,N=we,qe=zl,je=Gl,Ie=fe,Ge=Jl;return p(),m("div",ct,[l[59]||(l[59]=e("h1",null,"スクショウ自動編成",-1)),l[60]||(l[60]=e("a",{href:"https://note.com/asmape/n/nefd46574f4e3",target:"_blank"},"note",-1)),S(R,{"note-text":t(k),"onUpdate:noteText":l[0]||(l[0]=s=>y(k)?k.value=s:null),center:t(d),"onUpdate:center":l[1]||(l[1]=s=>y(d)?d.value=s:null),offset:t(n),"onUpdate:offset":l[2]||(l[2]=s=>y(n)?n.value=s:null),"combo-offset":t(o),"onUpdate:comboOffset":l[3]||(l[3]=s=>y(o)?o.value=s:null),attribute:t(i),"onUpdate:attribute":l[4]||(l[4]=s=>y(i)?i.value=s:null),"mastery-level":t(a),"onUpdate:masteryLevel":l[5]||(l[5]=s=>y(a)?a.value=s:null),singers:t(X),"onUpdate:singers":l[6]||(l[6]=s=>y(X)?X.value=s:null)},null,8,["note-text","center","offset","combo-offset","attribute","mastery-level","singers"]),S(x,null,{default:me(()=>[S(V,{"season-fan-lvs":t(Q),"onUpdate:seasonFanLvs":l[7]||(l[7]=s=>y(Q)?Q.value=s:null)},null,8,["season-fan-lvs"])]),_:1}),e("div",vt,[l[40]||(l[40]=e("div",{class:"card-header"}," メンバー ",-1)),e("div",pt,[e("table",mt,[e("thead",null,[e("tr",null,[e("th",ft,[e("div",bt,[l[27]||(l[27]=e("div",{style:{"margin-right":"8px"}}," カード ",-1)),e("div",kt,[e("div",yt,[e("div",gt,[e("div",_t,[e("div",Ct,[S(N,{icon:["fas","magnifying-glass"]})])])]),C(e("input",{"onUpdate:modelValue":l[8]||(l[8]=s=>y(Y)?Y.value=s:null),type:"text",class:"form-control"},null,512),[[I,t(Y)]])])])])]),l[28]||(l[28]=e("th",{scope:"col"},"AP",-1)),l[29]||(l[29]=e("th",{scope:"col"},"Lv.",-1)),l[30]||(l[30]=e("th",{scope:"col"},"スキルLv.",-1)),l[31]||(l[31]=e("th",{scope:"col"},"センターSLv.",-1)),l[32]||(l[32]=e("th",{scope:"col"},"凸数",-1)),l[33]||(l[33]=e("th",{scope:"col"},"選択",-1)),l[34]||(l[34]=e("th",{scope:"col"},"マーク",-1))])]),e("tbody",null,[S(x,{"fallback-tag":"tr"},{default:me(()=>[(p(!0),m(F,null,O(t(h),s=>C((p(),pe(qe,{key:t(E)(s),card:s,"open-card-details-modal":Re,"onUpdate:skillLevel":ve=>Me(t(L)(s),ve)},null,8,["card","onUpdate:skillLevel"])),[[fl,t(E)(s).toLowerCase().includes(t(Y).toLowerCase())]])),128))]),_:1})])]),e("div",xt," 必須："+f(t(Se))+" 任意："+f(t(Ue))+" 除外："+f(t(Ve)),1),e("div",Lt,[e("div",null,[l[35]||(l[35]=e("span",{style:{color:"#ddbb00"}},"♥",-1)),$("："+f(t(oe).heart),1)]),e("div",null,[l[36]||(l[36]=e("span",{style:{color:"#6666dd"}},"♦",-1)),$("："+f(t(oe).diamond),1)]),e("div",null,[l[37]||(l[37]=e("span",{style:{color:"#888"}},"♠",-1)),$("："+f(t(oe).spade),1)]),e("div",null,[l[38]||(l[38]=e("span",{style:{color:"#ff88aa"}},"♣",-1)),$("："+f(t(oe).club),1)])]),e("div",$t,[e("button",{type:"button",class:"btn btn-primary",onClick:l[9]||(l[9]=s=>t(ce)?.click())}," TSVインポート "),e("button",{type:"button",class:"btn btn-primary",disabled:t(ye),onClick:l[10]||(l[10]=s=>ze())}," 後衛カード追加 ",8,wt)]),l[39]||(l[39]=e("div",null,[e("a",{href:"https://docs.google.com/spreadsheets/d/13moGCQN2fd9_kxc5g3M9go98Sw6Y8fO25nDxKFoDsDk/edit?gid=1837505339#gid=1837505339",target:"_blank"}," 後衛カード一覧 ")],-1)),e("input",{ref_key:"tsvFileInput",ref:ce,type:"file",class:"d-none",onChange:Pe},null,544)])]),S(je),e("div",Mt,[l[58]||(l[58]=e("div",{class:"card-header"}," 計算 ",-1)),e("div",St,[e("div",Vt,[l[43]||(l[43]=$(" プレイスタイル： ",-1)),e("div",Ut,[e("div",ht,[e("label",null,[C(e("input",{"onUpdate:modelValue":l[11]||(l[11]=s=>y(w)?w.value=s:null),class:"form-check-input",type:"radio",value:"perfect"},null,512),[[D,t(w)]]),l[41]||(l[41]=$(" 渾身 ",-1))]),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:l[12]||(l[12]=s=>B("フルコンを目指すプレイ"))},[S(N,{icon:"circle-info"})])]),e("div",Tt,[e("label",null,[C(e("input",{"onUpdate:modelValue":l[13]||(l[13]=s=>y(w)?w.value=s:null),class:"form-check-input",type:"radio",value:"desperate"},null,512),[[D,t(w)]]),l[42]||(l[42]=$(" 背水 ",-1))]),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:l[14]||(l[14]=s=>B("メンタルが10%以下になるようミスをするプレイ"))},[S(N,{icon:"circle-info"})])])])]),e("div",Ft,[l[46]||(l[46]=$(" 編成ルール： ",-1)),e("div",Ot,[e("div",At,[e("label",null,[C(e("input",{"onUpdate:modelValue":l[15]||(l[15]=s=>y(A)?A.value=s:null),class:"form-check-input",type:"radio",value:"current"},null,512),[[D,t(A)]]),l[44]||(l[44]=$(" 通常ルール ",-1))]),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:l[16]||(l[16]=s=>B(`・メンバー1人あたり1種類まで
・カード制限なし`))},[S(N,{icon:"circle-info"})])]),e("div",Dt,[e("label",null,[C(e("input",{"onUpdate:modelValue":l[17]||(l[17]=s=>y(A)?A.value=s:null),class:"form-check-input",type:"radio",value:"new_grand_prix"},null,512),[[D,t(A)]]),l[45]||(l[45]=$(" ライグラルール ",-1))]),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:l[18]||(l[18]=s=>B(`・メンバー1人あたり2種類まで
・DRは1枚まで`))},[S(N,{icon:"circle-info"})])])])]),e("div",Rt,[l[49]||(l[49]=$(" スコア比較基準： ",-1)),e("div",Pt,[e("div",Nt,[e("label",null,[C(e("input",{"onUpdate:modelValue":l[19]||(l[19]=s=>y(g)?g.value=s:null),class:"form-check-input",type:"radio",value:"score"},null,512),[[D,t(g)]]),l[47]||(l[47]=$(" スコア ",-1))])]),e("div",zt,[e("label",null,[C(e("input",{"onUpdate:modelValue":l[20]||(l[20]=s=>y(g)?g.value=s:null),class:"form-check-input",type:"radio",value:"grandPrixPt"},null,512),[[D,t(g)]]),l[48]||(l[48]=$(" グランプリpt ",-1))])])])]),e("div",Et,[l[54]||(l[54]=$(" オプション： ",-1)),e("div",qt,[C(e("input",{id:"parallel","onUpdate:modelValue":l[21]||(l[21]=s=>y(H)?H.value=s:null),class:"form-check-input",type:"checkbox"},null,512),[[K,t(H)]]),e("label",jt," マルチスレッド ("+f(t(de))+"スレッド) ",1)]),e("div",It,[C(e("input",{id:"includingCenterOnly","onUpdate:modelValue":l[22]||(l[22]=s=>y(Z)?Z.value=s:null),class:"form-check-input",type:"checkbox"},null,512),[[K,t(Z)]]),l[50]||(l[50]=e("label",{class:"form-check-label",for:"includingCenterOnly"}," センターのメンバーを含まない編成は計算しない ",-1))]),e("div",Gt,[C(e("input",{id:"noLog","onUpdate:modelValue":l[23]||(l[23]=s=>y(ee)?ee.value=s:null),class:"form-check-input",type:"checkbox"},null,512),[[K,t(ee)]]),l[51]||(l[51]=e("label",{class:"form-check-label",for:"noLog"}," ログを出力しない（効果大） ",-1))]),e("div",Bt,[C(e("input",{id:"noDamagedFormation","onUpdate:modelValue":l[24]||(l[24]=s=>y(le)?le.value=s:null),class:"form-check-input",type:"checkbox"},null,512),[[K,t(le)]]),l[52]||(l[52]=e("label",{class:"form-check-label",for:"noDamagedFormation"}," 途中でメンタルが100%未満になった場合計算を打ち切る（渾身選択時以外は自動で無効） ",-1))]),e("div",Kt,[C(e("input",{id:"noCuredFormation","onUpdate:modelValue":l[25]||(l[25]=s=>y(te)?te.value=s:null),class:"form-check-input",type:"checkbox"},null,512),[[K,t(te)]]),l[53]||(l[53]=e("label",{class:"form-check-label",for:"noCuredFormation"}," 途中でメンタルが10%超になった場合計算を打ち切る（背水選択時以外は自動で無効） ",-1))])]),t(u)!=="running"?(p(),m("button",{key:0,type:"button",class:"btn btn-primary",onClick:Fe}," 計算 ")):se("",!0),t(u)==="running"?(p(),m("button",{key:1,type:"button",class:"btn btn-primary",onClick:Oe}," 中止 ")):se("",!0),t(T)?(p(),m("div",Wt,[e("p",{ref_key:"progressView",ref:Ne},f(t(u)==="running"?`計算中... ${t(he).toFixed(2)}%`:"計算完了"),513),e("div",Jt,[e("div",Ht,[e("p",null,"最高得点: "+f(t(T).score)+" ("+f(t(T).liveGrandPrixPt)+"pt)",1),l[57]||(l[57]=e("p",null,"メンバー:",-1)),e("ul",null,[(p(!0),m(F,null,O(t(T).members,s=>(p(),m("li",{key:t(L)(s),style:bl({fontWeight:t(T).centerMember&&t(E)(s)===t(E)(t(T).centerMember)?"bold":"normal"})},f(t(E)(s)),5))),128))]),e("textarea",{class:"form-control",value:t(T).log,readonly:"",rows:"5"},null,8,Xt),e("div",Qt,[l[55]||(l[55]=e("div",null,"編成に使用したカードを",-1)),e("div",null,[S(Ie,{modelValue:t(ne),"onUpdate:modelValue":l[26]||(l[26]=s=>y(ne)?ne.value=s:null),class:""},null,8,["modelValue"])]),l[56]||(l[56]=e("div",null,"にする",-1)),e("button",{class:"btn btn-primary",onClick:Ee},"実行")])])])])):se("",!0)])]),S(Ge),(p(!0),m(F,null,O(t(Ae),(s,ve)=>(p(),pe(yl(s.component),kl({key:`modal-${ve}`,"on-close":s.onClose},{ref_for:!0},s.args),null,16,["on-close"]))),128))])}}});export{en as default};
