import{m as Ie,v as xl,u as qe,w as I,o as J,x as Re,y as M,f as te,z as Sl,A as Cl,d as _l,s as Ne,j as wl,M as je,i as $l,e as Ll,k as Ml,B as Vl,p as Tl,C as Ul,D as hl,_ as Fl}from"./BSIeX6WQ.js";import{f as G,z as pe,A as Al,B as Ol,c as x,C as Pl,D as Bl,E as El,G as Rl,H as Nl,k as C,I as Ue,o as k,a as e,F as E,r as R,t as $,l as t,j as L,v as W,m as Dl,J as zl,n as q,_ as he,K as Ge,L as Il,g as ee,M as Le,d as U,b as A,i as Fe,N as le,x as j,O as z,p as Y,s as T,q as S,P as ql,Q as jl,h as ae,R as Gl,w as P,S as Me,T as Ve,U as Te,V as Xe,W as Xl,X as De,Y as Hl,Z as Kl,y as Wl}from"./2m-TF4W_.js";const Jl=Symbol.for("nuxt:client-only"),Ql=G({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(i,{slots:c,attrs:u}){const y=Pl(!1);pe(()=>{y.value=!0});const _=El();return _&&(_._nuxtClientOnly=!0),Bl(Jl,!0),()=>{if(y.value){const w=c.default?.();return w&&w.length===1?[Al(w[0],u)]:w}const d=c.fallback||c.placeholder;if(d)return Ol(d);const o=i.fallback||i.placeholder||"",v=i.fallbackTag||i.placeholderTag||"span";return x(v,u,o)}}}),Yl="$s";function Zl(...i){const c=typeof i[i.length-1]=="string"?i.pop():void 0;typeof i[0]!="string"&&i.unshift(c);const[u,y]=i;if(!u||typeof u!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+u);if(y!==void 0&&typeof y!="function")throw new Error("[nuxt] [useState] init must be a function: "+y);const _=Yl+u,d=Rl(),o=Nl(d.payload.state,_);if(o.value===void 0&&y){const v=y();if(C(v))return d.payload.state[_]=v,v;o.value=v}return o}const et={class:"card my-2"},lt={class:"card-body"},tt={class:"row"},ot={class:"input-group"},st={class:"input-group-prepend"},nt={class:"input-group-text",style:{width:"74px","justify-content":"center"}},at=["onUpdate:modelValue"],rt=G({__name:"OSeasonFanLv",props:{seasonFanLvs:{required:!0},seasonFanLvsModifiers:{}},emits:["update:seasonFanLvs"],setup(i){const c=Ue(i,"seasonFanLvs"),u=["kaho","sayaka","rurino","ginko","kosuzu","hime","ceras","izumi"];return(y,_)=>(k(),x("div",et,[_[0]||(_[0]=e("div",{class:"card-header"}," Season Fan Lv. ",-1)),e("div",lt,[e("div",tt,[(k(),x(E,null,R(u,d=>e("div",{key:d,class:"col-12 col-sm-6 col-md-4 col-lg-3 mb-2"},[e("div",ot,[e("div",st,[e("div",nt,[e("span",null,$(t(Ie)[d]),1)])]),L(e("input",{"onUpdate:modelValue":o=>c.value[d]=o,type:"number",class:"form-control",min:"1",max:"10"},null,8,at),[[W,c.value[d],void 0,{number:!0}]])])])),64))])])]))}}),it=Object.assign(rt,{__name:"OSeasonFanLv"}),dt=G({__name:"AMarkSelect",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(i){const c=Ue(i,"modelValue");return(u,y)=>L((k(),x("select",{"onUpdate:modelValue":y[0]||(y[0]=_=>c.value=_),class:q(["form-select marker-select",[c.value]])},[...y[1]||(y[1]=[zl('<option value="none" data-v-4055ea95>-</option><option value="heart" data-v-4055ea95>♥</option><option value="diamond" data-v-4055ea95>♦</option><option value="spade" data-v-4055ea95>♠</option><option value="club" data-v-4055ea95>♣</option>',5)])],2)),[[Dl,c.value]])}}),Ae=Object.assign(he(dt,[["__scopeId","data-v-4055ea95"]]),{__name:"AMarkSelect"}),Oe=xl(()=>({skillCaches:Ge(new Map)})),ut=["rowspan"],vt=["max"],ct=["rowspan"],pt={class:"row"},mt={class:"col form-check-label"},ft={class:"col form-check-label"},bt={class:"col form-check-label"},kt=["rowspan"],yt=["rowspan"],gt={class:"friend-row"},xt=["max"],St={class:"friend-row"},Ct=G({__name:"MMemberRow",props:{card:{},isVisible:{type:Boolean},openCardDetailsModal:{type:Function}},emits:["update:skillLevel"],setup(i,{emit:c}){const u=i,y=c,_=T(()=>M(u.card)),d=S("optional"),o=qe(_,{level:I[u.card.rarity]||1,centerSkillLevel:10,skillLevel:10,friendLevel:I[u.card.rarity]||1,friendCenterSkillLevel:14,lbCount:1,selected:"optional",friendPosession:!1,mark:"none"}),{skillCaches:v}=Oe();return pe(()=>{v.set(_.value,o)}),Il(()=>{v.delete(_.value)}),o.value.level||(o.value.level=I[u.card.rarity]||1),o.value.lbCount||(o.value.lbCount=1),o.value.friendLevel||(o.value.friendLevel=I[u.card.rarity]||1),o.value.friendCenterSkillLevel||(o.value.friendCenterSkillLevel=14),o.value.mark||(o.value.mark="none"),ee(d,w=>{o.value.selected!==w&&(o.value.selected=w)}),ee(o,w=>{d.value!==w.selected&&(d.value=w.selected)}),ee(T(()=>o.value.skillLevel),w=>{w>10&&(o.value.lbCount=Math.max(o.value.lbCount,w-9))}),ee(T(()=>o.value.centerSkillLevel),w=>{w>10&&(o.value.lbCount=Math.max(o.value.lbCount,w-9))}),ee(o,w=>{y("update:skillLevel",w)}),pe(()=>{d.value=o.value.selected||"optional",y("update:skillLevel",o.value)}),(w,s)=>{const g=Fe,b=Ae;return k(),x(E,null,[L(e("tr",null,[e("td",{rowspan:t(o).friendPosession?2:1},[U($(t(J)(i.card))+" ",1),e("a",{style:{"vertical-align":"super","font-size":"0.8em"},onClick:s[0]||(s[0]=r=>i.openCardDetailsModal(i.card))},[A(g,{icon:"circle-info"})])],8,ut),e("td",{class:q({"gained-ap":t(Re)(i.card,t(o).level)>0}),style:le({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},$(i.card.ap+t(Re)(i.card,t(o).level)),7),e("td",{style:le({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[L(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t(o).level=r),class:q(["form-control",{"not-max":t(o).level!==t(I)[i.card.rarity]}]),type:"number",min:"1",max:t(I)[i.card.rarity],onChange:s[2]||(s[2]=r=>y("update:skillLevel",t(o)))},null,42,vt),[[W,t(o).level,void 0,{number:!0}]])],4),e("td",{style:le({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[L(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>t(o).skillLevel=r),class:q([[t(o).skillLevel>10?`level-exceeded-${t(o).skillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[W,t(o).skillLevel,void 0,{number:!0}]])],4),e("td",{style:le({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[L(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>t(o).centerSkillLevel=r),class:q([[t(o).centerSkillLevel>10?`level-exceeded-${t(o).centerSkillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[W,t(o).centerSkillLevel,void 0,{number:!0}]])],4),e("td",{style:le({"border-bottom-width":t(o).friendPosession?"0px":"var(--bs-border-width)"})},[L(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>t(o).lbCount=r),class:q(["form-control",[t(o).lbCount>1?`level-exceeded-${t(o).lbCount-1}`:""]]),type:"number",min:"1",max:"5"},null,2),[[W,t(o).lbCount,void 0,{number:!0}]])],4),e("td",{rowspan:t(o).friendPosession?2:1,class:q({"required-bg":t(d)==="required","excluded-bg":t(d)==="excluded"})},[e("div",pt,[e("label",mt,[L(e("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>C(d)?d.value=r:null),class:"form-check-input",type:"radio",value:"required"},null,512),[[j,t(d)]]),s[13]||(s[13]=U(" 必須 ",-1))]),e("label",ft,[L(e("input",{"onUpdate:modelValue":s[7]||(s[7]=r=>C(d)?d.value=r:null),class:"form-check-input",type:"radio",value:"optional"},null,512),[[j,t(d)]]),s[14]||(s[14]=U(" 任意 ",-1))]),e("label",bt,[L(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>C(d)?d.value=r:null),class:"form-check-input",type:"radio",value:"excluded"},null,512),[[j,t(d)]]),s[15]||(s[15]=U(" 除外 ",-1))])])],10,ct),e("td",{rowspan:t(o).friendPosession?2:1,style:{"text-align":"center"}},[i.card.rarity!=="dr"&&i.card.rarity!=="dr2"?L((k(),x("input",{key:0,"onUpdate:modelValue":s[9]||(s[9]=r=>t(o).friendPosession=r),class:"form-check-input",type:"checkbox"},null,512)),[[z,t(o).friendPosession]]):Y("",!0)],8,kt),e("td",{rowspan:t(o).friendPosession?2:1},[A(b,{modelValue:t(o).mark,"onUpdate:modelValue":s[10]||(s[10]=r=>t(o).mark=r)},null,8,["modelValue"])],8,yt)],512),[[Le,i.isVisible]]),L(e("tr",null,[s[16]||(s[16]=e("td",{class:"p-0 position-relative"},[e("div",{class:"friend-row-start"},[e("div",null,"フレンド")])],-1)),e("td",gt,[L(e("input",{"onUpdate:modelValue":s[11]||(s[11]=r=>t(o).friendLevel=r),class:q([{"not-max":t(o).friendLevel!==t(I)[i.card.rarity]},"form-control"]),type:"number",min:"1",max:t(I)[i.card.rarity]},null,10,xt),[[W,t(o).friendLevel,void 0,{number:!0}]])]),s[17]||(s[17]=e("td",{class:"friend-row"},null,-1)),e("td",St,[L(e("input",{"onUpdate:modelValue":s[12]||(s[12]=r=>t(o).friendCenterSkillLevel=r),class:q([[t(o).friendCenterSkillLevel>10?`level-exceeded-${t(o).friendCenterSkillLevel-10}`:""],"form-control"]),type:"number",min:"1",max:"14"},null,2),[[Le,t(o).friendPosession],[W,t(o).friendCenterSkillLevel,void 0,{number:!0}]])]),s[18]||(s[18]=e("td",{class:"p-0 position-relative"},[e("div",{class:"friend-row-end"})],-1))],512),[[Le,i.isVisible&&t(o).friendPosession]])],64)}}}),_t=Object.assign(he(Ct,[["__scopeId","data-v-870db6ec"]]),{__name:"MMemberRow"}),wt={class:"card my-2"},$t={class:"card-body"},Lt={class:"d-flex gap-2 align-items-center"},Mt=G({__name:"OCardOperation",setup(i){const c=S("none"),{skillCaches:u}=Oe(),y=()=>{u.forEach(s=>{s.value.mark===c.value&&(console.log("setSelectedMarkToRequired",s.value.mark),s.value={...s.value,selected:"required"})})},_=()=>{u.forEach(s=>{s.value.mark===c.value&&(s.value={...s.value,selected:"optional"})})},d=()=>{u.forEach(s=>{s.value.mark===c.value&&(s.value={...s.value,selected:"excluded"})})},o=()=>{confirm("マークをリセットしますか？")&&u.forEach(s=>{s.value={...s.value,mark:"none"}})},v=()=>{u.forEach(s=>{s.value={...s.value,friendPosession:!0}})},w=()=>{u.forEach(s=>{s.value={...s.value,friendPosession:!1}})};return(s,g)=>{const b=Ae;return k(),x("div",wt,[g[3]||(g[3]=e("div",{class:"card-header"}," カード操作 ",-1)),e("div",$t,[e("div",Lt,[e("div",null,[A(b,{modelValue:t(c),"onUpdate:modelValue":g[0]||(g[0]=r=>C(c)?c.value=r:null),class:""},null,8,["modelValue"])]),g[1]||(g[1]=e("div",null,"をすべて",-1)),e("button",{class:"btn btn-primary",onClick:y},"必須に"),e("button",{class:"btn btn-primary",onClick:_},"任意に"),e("button",{class:"btn btn-primary",onClick:d},"除外に")]),e("div",{class:"mt-2"},[e("button",{class:"btn btn-primary",onClick:o},"マークリセット")]),e("div",{class:"mt-2 d-flex gap-2 align-items-center"},[g[2]||(g[2]=e("div",null,"フレンド所持状況：",-1)),e("button",{class:"btn btn-primary",onClick:v},"すべてON"),e("button",{class:"btn btn-primary",onClick:w},"すべてOFF")])])])}}}),Vt=Object.assign(Mt,{__name:"OCardOperation"}),Tt=G({__name:"BTooltip",props:De({interactive:{type:Boolean,default:void 0},body:{},bodyClass:{default:void 0},boundary:{},boundaryPadding:{},click:{type:Boolean,default:void 0},closeOnHide:{type:Boolean},focus:{type:Boolean,default:void 0},hover:{type:Boolean,default:void 0},delay:{default:0},floatingMiddleware:{default:void 0},hideMargin:{default:0},id:{default:void 0},inline:{type:Boolean,default:void 0},manual:{type:Boolean,default:void 0},noAutoClose:{type:Boolean,default:void 0},noFlip:{type:Boolean,default:void 0},noHide:{type:Boolean,default:void 0},noShift:{type:Boolean,default:void 0},noSize:{type:Boolean},noninteractive:{type:Boolean,default:void 0},offset:{default:void 0},placement:{default:void 0},realtime:{type:Boolean,default:void 0},reference:{default:void 0},strategy:{default:void 0},target:{default:void 0},title:{default:void 0},titleClass:{default:void 0},teleportDisabled:{type:Boolean,default:void 0},teleportTo:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:void 0},lazy:{type:Boolean,default:void 0},unmountLazy:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},transProps:{},visible:{type:Boolean,default:void 0}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:De(["pointerleave","blur","click-outside","close-on-hide","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(i,{expose:c,emit:u}){const _=ql(i,"BTooltip"),d=u,o=jl(),v=Ue(i,"modelValue"),w=T(()=>{const{interactive:g,noninteractive:b,...r}=_;return{noninteractive:b!==void 0?b:!g,...r}}),s=Hl("_popover");return c({hide:()=>{s.value?.hide()},show:()=>{s.value?.show()},toggle:()=>{s.value?.toggle()}}),(g,b)=>(k(),ae(Xl,Xe({ref:"_popover"},w.value,{modelValue:v.value,"onUpdate:modelValue":b[0]||(b[0]=r=>v.value=r),tooltip:"",onShow:b[1]||(b[1]=r=>d("show",r)),onShown:b[2]||(b[2]=r=>d("shown",r)),onHide:b[3]||(b[3]=r=>d("hide",r)),onHidden:b[4]||(b[4]=r=>d("hidden",r)),onHidePrevented:b[5]||(b[5]=r=>d("hide-prevented",r)),onShowPrevented:b[6]||(b[6]=r=>d("show-prevented",r)),onTogglePrevented:b[7]||(b[7]=r=>d("toggle-prevented",r)),onToggle:b[8]||(b[8]=r=>d("toggle",r)),onPointerleave:b[9]||(b[9]=r=>d("pointerleave",r)),onBlur:b[10]||(b[10]=r=>d("blur",r)),onClickOutside:b[11]||(b[11]=r=>d("click-outside",r)),onCloseOnHide:b[12]||(b[12]=r=>d("close-on-hide",r))}),Gl({_:2},[o.default?{name:"default",fn:P(r=>[Me(g.$slots,"default",Ve(Te(r)))]),key:"0"}:void 0,o.target?{name:"target",fn:P(r=>[Me(g.$slots,"target",Ve(Te(r)))]),key:"1"}:void 0,o.title?{name:"title",fn:P(r=>[Me(g.$slots,"title",Ve(Te(r)))]),key:"2"}:void 0]),1040,["modelValue"]))}}),ne=["スコアには楽曲マスタリーレベルとボルテージレベルの補正が乗る。スキルによるスコア獲得にも乗る。","コンボによるAP獲得量ボーナスはスキルにも乗る。","DRとLR、及び地平シリーズのURは特殊なセンタースキルを持っている。強い。","「ボルテージPt.をXpt獲得／〜〜の時、ボルテージPt.をXpt獲得」みたいなスキルは、1番目のスキルにしか効果量増加が乗らない。","フィーバー中はボルテージ2倍になり獲得スコアも増加。スキルにも補正が乗るのでフィーバー中に発動できると強い。","ボルテージLv.7〜8（280〜449pt）のときに「[悠久の舞踏会] 大沢瑠璃乃」がループできると強い。","「[be proud] 乙宗梢」はスキルLv.12以上にすると手札からなくなるまでの回数が増えるので注意。","スキルLv.14の効果量はスキルLv.10の効果量の約1.5倍。切り捨ての関係でズレることはある。","フリックは実は下でも良い。","フレンドに設定したカードはレベルとセンタースキルレベルが利用される。フレンドカードに設定するカードは育成しておこう。","マスタリーレベルはスコアに直結する。30まではスクショウのMASTERで、31以上はスクステのEX4で稼ぐのが全体的に効率がよい。ちなみにMASTERがクリアできなくてもマスタリーレベルの増加量には影響ない。","スクショウはAPを消費しなくてもプレイできる。スコアやコンボ数のミッションをクリアする分にはAP0で十分。","ちぇすとー？　ちぇすとー！！"],Ut={class:"card my-2"},ht={class:"card-body"},Ft=G({__name:"OTips",setup(i){const c=Zl("currentTipIndex",()=>Math.floor(Math.random()*ne.length)),u=T(()=>ne[c.value]),y=()=>{c.value=(c.value+1)%ne.length},_=()=>{c.value=(c.value-1+ne.length)%ne.length};return(d,o)=>(k(),x("div",Ut,[o[1]||(o[1]=e("div",{class:"card-header"}," Tips ",-1)),e("div",ht,[e("div",null," （No. "+$(t(c)+1)+"）"+$(t(u)),1),e("button",{type:"button",class:"btn btn-primary",onClick:_}," ＜前 "),o[0]||(o[0]=U("   ",-1)),e("button",{type:"button",class:"btn btn-primary",onClick:y}," 次＞ ")])]))}}),At=Object.assign(Ft,{__name:"OTips"}),Ot={class:"mb-3"},Pt={class:"row g-3 mt-1"},Bt={class:"col-12"},Et={class:"input-group"},Rt={class:"input-group-prepend"},Nt={class:"input-group-text"},Dt={style:{"min-height":"1.5em"}},zt={class:"col-12"},It={class:"d-flex flex-wrap gap-2"},qt=["id","value"],jt=["for"],Gt={class:"col-12"},Xt={class:"d-flex flex-wrap gap-2"},Ht=["id","value"],Kt=["for"],Wt={class:"col-12"},Jt={class:"d-flex flex-wrap gap-2"},Qt=["id","value"],Yt=["for"],Zt={class:"col-12"},eo={class:"d-flex flex-wrap gap-2"},lo=["id","value"],to=["for"],oo={class:"col-12"},so={class:"p-2"},no=G({__name:"AutoFormationCardFilters",props:{searchText:{},selectedSkills:{},selectedCenterSkills:{},selectedMembers:{},selectedRarities:{},skillOptions:{},centerSkillOptions:{},memberOptions:{},rarityOptions:{}},emits:["update:searchText","update:selectedSkills","update:selectedCenterSkills","update:selectedMembers","update:selectedRarities","clear","close"],setup(i,{emit:c}){const u=i,y=c,_=T({get:()=>u.searchText,set:F=>y("update:searchText",F)}),d=T({get:()=>u.selectedSkills,set:F=>y("update:selectedSkills",F)}),o=T({get:()=>u.selectedCenterSkills,set:F=>y("update:selectedCenterSkills",F)}),v=T({get:()=>u.selectedMembers,set:F=>y("update:selectedMembers",F)}),w=T({get:()=>u.selectedRarities,set:F=>y("update:selectedRarities",F)}),s=["vol_buff","vol_up","vol_down","score_buff","score_up","mental_up","mental_down","ap_up","ap_down","ap_change","reset","splice"],g=["ceras","izumi","ginko","kosuzu","hime","kaho","sayaka","rurino","kozue","tsuzuri","megumi","other"],b=T(()=>{const F=new Map(s.map((n,f)=>[n,f]));return[...u.skillOptions].sort((n,f)=>{const p=F.get(n.value)??Number.MAX_SAFE_INTEGER,h=F.get(f.value)??Number.MAX_SAFE_INTEGER;return p-h})}),r=T(()=>{const F=new Map(s.map((n,f)=>[n,f]));return[...u.centerSkillOptions].sort((n,f)=>{const p=F.get(n.value)??Number.MAX_SAFE_INTEGER,h=F.get(f.value)??Number.MAX_SAFE_INTEGER;return p-h})}),Q=T(()=>{const F=new Map(g.map((n,f)=>[n,f]));return[...u.memberOptions].sort((n,f)=>{const p=F.get(n.value)??Number.MAX_SAFE_INTEGER,h=F.get(f.value)??Number.MAX_SAFE_INTEGER;return p-h})});return(F,n)=>{const f=Fe;return k(),x("div",Ot,[n[12]||(n[12]=e("div",{class:"fw-bold"},"カードフィルター",-1)),n[13]||(n[13]=e("div",{class:"text-muted small"}," 各カテゴリ内はOR検索、カテゴリ間はAND検索です。 ",-1)),e("div",Pt,[e("div",Bt,[n[7]||(n[7]=e("div",{class:"fw-bold"},"カード名検索",-1)),e("div",Et,[e("div",Rt,[e("div",Nt,[e("div",Dt,[A(f,{icon:["fas","magnifying-glass"]})])])]),L(e("input",{"onUpdate:modelValue":n[0]||(n[0]=p=>C(_)?_.value=p:null),type:"text",class:"form-control"},null,512),[[W,t(_)]])])]),e("div",zt,[n[8]||(n[8]=e("div",{class:"fw-bold"},"スキル",-1)),e("div",It,[(k(!0),x(E,null,R(t(b),p=>(k(),x("div",{key:p.value,class:"pill-check"},[L(e("input",{id:`skill-${p.value}`,"onUpdate:modelValue":n[1]||(n[1]=h=>C(d)?d.value=h:null),class:"btn-check",type:"checkbox",value:p.value},null,8,qt),[[z,t(d)]]),e("label",{class:"btn btn-outline-primary rounded-pill",for:`skill-${p.value}`},$(p.label),9,jt)]))),128))])]),e("div",Gt,[n[9]||(n[9]=e("div",{class:"fw-bold"},"センタースキル",-1)),e("div",Xt,[(k(!0),x(E,null,R(t(r),p=>(k(),x("div",{key:p.value,class:"pill-check"},[L(e("input",{id:`center-skill-${p.value}`,"onUpdate:modelValue":n[2]||(n[2]=h=>C(o)?o.value=h:null),class:"btn-check",type:"checkbox",value:p.value},null,8,Ht),[[z,t(o)]]),e("label",{class:"btn btn-outline-success rounded-pill",for:`center-skill-${p.value}`},$(p.label),9,Kt)]))),128))])]),e("div",Wt,[n[10]||(n[10]=e("div",{class:"fw-bold"},"メンバー名",-1)),e("div",Jt,[(k(!0),x(E,null,R(t(Q),p=>(k(),x("div",{key:p.value,class:"pill-check"},[L(e("input",{id:`member-${p.value}`,"onUpdate:modelValue":n[3]||(n[3]=h=>C(v)?v.value=h:null),class:"btn-check",type:"checkbox",value:p.value},null,8,Qt),[[z,t(v)]]),e("label",{class:q(["btn rounded-pill",[`btn-outline-${p.value}`]]),for:`member-${p.value}`},$(p.label),11,Yt)]))),128))])]),e("div",Zt,[n[11]||(n[11]=e("div",{class:"fw-bold"},"レアリティ",-1)),e("div",eo,[(k(!0),x(E,null,R(i.rarityOptions,p=>(k(),x("div",{key:p.value,class:"pill-check"},[L(e("input",{id:`rarity-${p.value}`,"onUpdate:modelValue":n[4]||(n[4]=h=>C(w)?w.value=h:null),class:"btn-check",type:"checkbox",value:p.value},null,8,lo),[[z,t(w)]]),e("label",{class:"btn btn-outline-secondary rounded-pill",for:`rarity-${p.value}`},$(p.label),9,to)]))),128))])]),e("div",oo,[e("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:n[5]||(n[5]=p=>y("clear"))}," フィルター解除 ")]),e("div",so,[e("button",{type:"button",class:"btn btn-primary",onClick:n[6]||(n[6]=p=>y("close"))}," 閉じる ")])])])}}}),ao=Object.assign(he(no,[["__scopeId","data-v-ddafbd4c"]]),{__name:"AutoFormationCardFilters"}),ro=Sl.filter(i=>i!=="dr2"),io={vol_buff:"ボルテージ獲得量アップ",vol_up:"ボルテージゲイン",vol_down:"ボルテージダウン",score_buff:"スコア獲得量アップ",score_up:"スコアアップ",mental_up:"メンタル回復",mental_down:"メンタルダメージ",ap_up:"APゲイン",ap_down:"APダウン",ap_change:"AP変化",reset:"デッキリセット",splice:"カード除外"},ce=i=>{if(!i)return[];const c=new Set,u=/([a-z0-9_]+)\s*\(/g;let y;for(;(y=u.exec(i))!==null;)c.add(y[1]);return Array.from(c)},ze=i=>io[i]??`特殊スキル（${i}）`,uo=i=>{const c=S(""),u=S([]),y=S([]),_=S([]),d=S([]),o=T(()=>{const n=new Set;return i.value.forEach(f=>{const p=g.value.get(M(f))?.skill;ce(p||"").forEach(h=>n.add(h))}),Array.from(n).map(f=>({value:f,label:ze(f)})).sort((f,p)=>f.label.localeCompare(p.label,"ja"))}),v=T(()=>{const n=new Set;return i.value.forEach(f=>{const p=g.value.get(M(f))?.centerSkill;ce(p||"").forEach(h=>n.add(h))}),Array.from(n).map(f=>({value:f,label:ze(f)})).sort((f,p)=>f.label.localeCompare(p.label,"ja"))}),w=T(()=>{const n=new Set;return i.value.forEach(f=>n.add(f.key)),Array.from(n).map(f=>({value:f,label:Ie[f]||f})).sort((f,p)=>f.label.localeCompare(p.label,"ja"))}),s=T(()=>ro.map(n=>({value:n,label:n.toUpperCase()}))),g=T(()=>new Map(i.value.map(n=>{const f=te(n,14,14);return[M(n),{skill:f.skill,centerSkill:f.centerSkill||""}]}))),b=T(()=>new Map(i.value.map(n=>{const f=g.value.get(M(n))?.skill||"";return[M(n),ce(f)]}))),r=T(()=>new Map(i.value.map(n=>{const f=g.value.get(M(n))?.centerSkill||"";return[M(n),ce(f)]})));return{searchText:c,selectedSkills:u,selectedCenterSkills:y,selectedMembers:_,selectedRarities:d,skillFilterOptions:o,centerSkillFilterOptions:v,memberFilterOptions:w,rarityFilterOptions:s,clearFilters:()=>{u.value=[],y.value=[],_.value=[],d.value=[]},isCardVisible:n=>{if(!J(n).toLowerCase().includes(c.value.toLowerCase()))return!1;if(u.value.length>0){const h=b.value.get(M(n))||[];if(!u.value.some(H=>h.includes(H)))return!1}if(y.value.length>0){const h=r.value.get(M(n))||[];if(!y.value.some(H=>h.includes(H)))return!1}if(_.value.length>0&&!_.value.includes(n.key))return!1;const p=n.rarity==="dr2"?"dr":n.rarity;return!(d.value.length>0&&!d.value.includes(p))}}},vo={class:"mb-3"},co={class:"my-2"},po={class:"card my-2"},mo={class:"card-body"},fo={class:"table"},bo={class:"card my-2"},ko={class:"card-body"},yo={class:"table"},go={key:0,rowspan:"14"},xo={class:"card my-2"},So={class:"card-body"},Co={class:"table"},_o={class:"card my-2"},wo={class:"card-body"},$o=G({__name:"MdCardDetails",props:{onClose:{},card:{},displayLevel:{}},setup(i){const c=i,u=T(()=>Array.from({length:14},(o,v)=>$l(te(c.card,v+1,v+1)))),y=Ge(new Set([...Cl[c.card.rarity].map(([o])=>o),c.displayLevel])),_=T(()=>Array.from(y).sort((o,v)=>o-v)),d=T(()=>_.value.map(o=>te(c.card,1,1,o)));return(o,v)=>{const w=je;return k(),ae(w,{"on-close":i.onClose},{default:P(()=>[e("h3",vo,$(t(J)(i.card)),1),e("div",co,[e("div",po,[v[6]||(v[6]=e("div",{class:"card-header"}," ステータス ",-1)),e("div",mo,[e("table",fo,[e("thead",null,[e("tr",null,[v[1]||(v[1]=e("th",null,"ステータス",-1)),(k(!0),x(E,null,R(t(_),s=>(k(),x("th",{key:`status-${s}`}," Lv."+$(s),1))),128))])]),e("tbody",null,[e("tr",null,[v[2]||(v[2]=e("td",null,"スマイル",-1)),(k(!0),x(E,null,R(t(d),s=>(k(),x("td",{key:`status-smile-${s.key}`},$(s.smile),1))),128))]),e("tr",null,[v[3]||(v[3]=e("td",null,"ピュア",-1)),(k(!0),x(E,null,R(t(d),s=>(k(),x("td",{key:`status-pure-${s.key}`},$(s.pure),1))),128))]),e("tr",null,[v[4]||(v[4]=e("td",null,"クール",-1)),(k(!0),x(E,null,R(t(d),s=>(k(),x("td",{key:`status-cool-${s.key}`},$(s.cool),1))),128))]),e("tr",null,[v[5]||(v[5]=e("td",null,"メンタル",-1)),(k(!0),x(E,null,R(t(d),s=>(k(),x("td",{key:`status-mental-${s.key}`},$(s.mental),1))),128))])])])])]),e("div",bo,[v[8]||(v[8]=e("div",{class:"card-header"}," センタースキル ",-1)),e("div",ko,[e("table",yo,[v[7]||(v[7]=e("thead",null,[e("tr",null,[e("th",null,"スキルLv."),e("th",null,"発動条件"),e("th",null,"効果")])],-1)),e("tbody",null,[(k(!0),x(E,null,R(t(u),(s,g)=>(k(),x("tr",{key:`center-skill-${g}`},[e("td",null,$(g+1),1),g===0?(k(),x("td",go,$(t(_l)(s.centerSkillCondition)),1)):Y("",!0),e("td",null,$(t(Ne)(s.centerSkills)),1)]))),128))])])])]),e("div",xo,[v[10]||(v[10]=e("div",{class:"card-header"}," スキル ",-1)),e("div",So,[e("table",Co,[v[9]||(v[9]=e("thead",null,[e("tr",null,[e("th",null,"スキルLv."),e("th",null,"効果")])],-1)),e("tbody",null,[(k(!0),x(E,null,R(t(u),(s,g)=>(k(),x("tr",{key:`skill-${g}`},[e("td",null,$(g+1),1),e("td",null,$(t(Ne)(s.skills)),1)]))),128))])])])]),e("div",_o,[v[11]||(v[11]=e("div",{class:"card-header"}," センター特性 ",-1)),e("div",wo,$(t(wl)(t(u)[0].centerAbilities)),1)]),e("button",{class:"btn btn-primary",onClick:v[0]||(v[0]=s=>i.onClose(null))}," 閉じる ")])]),_:1},8,["on-close"])}}}),Lo=Object.assign($o,{__name:"MdCardDetails"}),Mo={class:"container-md"},Vo={class:"card my-2"},To={class:"card-body"},Uo={class:"table"},ho={scope:"col"},Fo={class:"d-flex align-items-center gap-2"},Ao={style:{"text-align":"right"}},Oo={class:"d-flex gap-3 justify-content-end"},Po={class:"d-flex gap-2"},Bo=["disabled"],Eo={class:"card my-2"},Ro={class:"card-body"},No={class:"mb-2"},Do={class:"row"},zo={class:"col-auto"},Io={style:{"vertical-align":"super","font-size":"0.8em"}},qo={class:"col-auto"},jo={style:{"vertical-align":"super","font-size":"0.8em"}},Go={class:"col-auto"},Xo={style:{"vertical-align":"super","font-size":"0.8em"}},Ho={class:"mb-2"},Ko={class:"row"},Wo={class:"col-auto"},Jo={style:{"vertical-align":"super","font-size":"0.8em"}},Qo={class:"col-auto"},Yo={style:{"vertical-align":"super","font-size":"0.8em"}},Zo={class:"mb-2"},es={class:"row"},ls={class:"col-auto"},ts={class:"col-auto"},os={class:"mb-2"},ss={class:"form-check"},ns={class:"form-check-label",for:"parallel"},as={class:"form-check"},rs={class:"form-check"},is={class:"form-check"},ds={class:"form-check"},us={class:"form-check"},vs={class:"form-check"},cs={class:"form-check"},ps={key:2},ms={class:"card my-2"},fs={class:"card-body"},bs={key:0},ks=["value"],ys={class:"d-flex gap-2 align-items-center"},Ss=G({__name:"auto-formation",setup(i){const c=S("finished"),u=S(void 0),y=async()=>{if(u.value)try{await u.value.release(),u.value=void 0}catch(m){console.error(m)}if("wakeLock"in navigator)try{u.value=await navigator.wakeLock.request("screen")}catch(m){console.error(m)}};ee(c,async m=>{if(m==="finished")try{await u.value?.release(),u.value=void 0}catch(l){console.error(l)}});const _=S(""),d=S(""),o=S(0),v=S(0),w=S("smile"),s=S(50),g=S("perfect"),b=S("current"),r=S("score"),Q=S(!0),F=S(!0),n=S(!0),f=S(!0),p=S(!1),h=S([]),H=S(!0),re=S(!0),ie=S(!1),de=qe("seasonFanLvs",{kaho:1,sayaka:1,rurino:1,ginko:1,kosuzu:1,hime:1,ceras:1,izumi:1,kozue:1,tsuzuri:1,megumi:1}),N=S([...Ll]),{searchText:me,selectedSkills:fe,selectedCenterSkills:be,selectedMembers:ke,selectedRarities:ye,skillFilterOptions:He,centerSkillFilterOptions:Ke,memberFilterOptions:We,rarityFilterOptions:Je,clearFilters:Qe,isCardVisible:Ye}=uo(N),ge=S(!1),Ze=()=>{ge.value=!0},Pe=()=>{ge.value=!1},O=S(Object.fromEntries(N.value.map(m=>[M(m),{level:I[m.rarity]||1,centerSkillLevel:10,skillLevel:10,friendLevel:I[m.rarity]||1,friendCenterSkillLevel:14,selected:"optional",friendPosession:!1}]))),el=(m,l)=>{O.value[m]=l},ll=T(()=>N.value.filter(m=>O.value[M(m)]?.selected==="required").length),tl=T(()=>N.value.filter(m=>O.value[M(m)]?.selected==="excluded").length),ol=T(()=>N.value.filter(m=>O.value[M(m)]?.selected==="optional").length),oe=S([]),xe=S([]),Se=S(0),Ce=S(1);pe(()=>{Ce.value=navigator.hardwareConcurrency||4});const B=S(void 0),sl=T(()=>xe.value.reduce((m,l)=>m+l,0)),Be=S(Promise.resolve()),nl=m=>{oe.value=Array.from({length:m},()=>new Worker(new URL(""+new URL("calc-worker-parallel-CsdNNbBA.js",import.meta.url).href,import.meta.url),{type:"module"})),oe.value.forEach((l,K)=>{l.onmessage=X=>{switch(X.data.message){case"calcScore":{const D=X.data.data;Be.value=Be.value.then(async()=>{D.score>(B.value?.score||0)&&(B.value={score:D.score,liveGrandPrixPt:D.liveGrandPrixPt,members:D.members,centerMember:D.centerMember,friendMember:D.friendMember,log:D.log,desperate1ProgramInitial:D.desperate1ProgramInitial})});break}case"progress":xe.value[K]=X.data.data.progress;break;case"end":Se.value++,Se.value===oe.value.length&&(c.value="finished");break}}})},al=()=>{const m=Q.value?Ce.value:1;nl(m),y(),B.value=void 0,xe.value=Array.from({length:m},()=>0),Se.value=0;const l=Tl(_.value,o.value),K=N.value.filter(V=>O.value[M(V)]&&O.value[M(V)].selected==="required").map(V=>te(V,O.value[M(V)]?.skillLevel||10,O.value[M(V)]?.centerSkillLevel||10,O.value[M(V)]?.level||1));if(K.length>6){il("必須のメンバーが6人を超えています");return}const X=N.value.filter(V=>!O.value[M(V)]?.selected||O.value[M(V)].selected==="optional").map(V=>te(V,O.value[M(V)]?.skillLevel||10,O.value[M(V)]?.centerSkillLevel||10,O.value[M(V)]?.level||1)),D=p.value?[]:N.value.filter(V=>O.value[M(V)]?.friendPosession).map(V=>te(V,10,O.value[M(V)]?.friendCenterSkillLevel||10,O.value[M(V)]?.friendLevel||1));c.value="running",oe.value.forEach((V,we)=>{V.postMessage(JSON.parse(JSON.stringify({requiredMembers:K,optionalMembers:X,friendMembers:D,notes:l,center:d.value,attribute:w.value,masteryLevel:s.value,playStyle:g.value,formationRule:b.value,includingCenterOnly:H.value,includeFriendOnlyCenter:F.value,requireVolUpAndScoreUp:n.value,requireScoreBuff:f.value,noLog:re.value,noDamagedFormation:ie.value,scoreComparisonRule:r.value,seasonFanLvs:de.value,singers:h.value,batchNum:m,batchIndex:we})))})},rl=()=>{oe.value.forEach(m=>{m.terminate()}),c.value="finished"},il=m=>{window.alert(m)},{modals:dl,openModal:ul}=Ml(),vl=async m=>{await ul(Lo,{card:m,displayLevel:O.value[M(m)]?.level||1})},_e=S(null),cl=()=>{const m=_e.value?.files?.[0];if(m){const l=new FileReader;l.onload=K=>{const X=K.target?.result;N.value=N.value.concat(Ul(X,"_"))},l.readAsText(m)}},pl=S(null),Ee=S(!1),ml=()=>{N.value=N.value.concat(hl),Ee.value=!0},ue=S("none"),{skillCaches:Z}=Oe(),ve=T(()=>({spade:Array.from(Z.values()).filter(m=>m.value.mark==="spade").length,heart:Array.from(Z.values()).filter(m=>m.value.mark==="heart").length,diamond:Array.from(Z.values()).filter(m=>m.value.mark==="diamond").length,club:Array.from(Z.values()).filter(m=>m.value.mark==="club").length,none:Array.from(Z.values()).filter(m=>m.value.mark==="none").length})),fl=()=>{B.value?.members.forEach(m=>{const l=Z.get(M(m));l&&(l.value={...l.value,mark:ue.value})})};return Kl({title:"スクショウ自動編成機",ogTitle:"スクショウ自動編成機",description:"スクショウの編成を自動で計算します",ogDescription:"スクショウの編成を自動で計算します"}),Vl(window,"beforeunload",m=>{if(c.value==="running")return m.preventDefault(),"計算中です"}),(m,l)=>{const K=Fl,X=it,D=Ql,V=Fe,we=_t,bl=Vt,se=Tt,kl=Ae,yl=At,gl=ao;return k(),x("div",Mo,[l[77]||(l[77]=e("h1",null,"スクショウ自動編成機",-1)),l[78]||(l[78]=e("a",{href:"https://note.com/asmape/n/nefd46574f4e3",target:"_blank"},"note",-1)),A(K,{"note-text":t(_),"onUpdate:noteText":l[0]||(l[0]=a=>C(_)?_.value=a:null),center:t(d),"onUpdate:center":l[1]||(l[1]=a=>C(d)?d.value=a:null),offset:t(o),"onUpdate:offset":l[2]||(l[2]=a=>C(o)?o.value=a:null),"combo-offset":t(v),"onUpdate:comboOffset":l[3]||(l[3]=a=>C(v)?v.value=a:null),attribute:t(w),"onUpdate:attribute":l[4]||(l[4]=a=>C(w)?w.value=a:null),"mastery-level":t(s),"onUpdate:masteryLevel":l[5]||(l[5]=a=>C(s)?s.value=a:null),singers:t(h),"onUpdate:singers":l[6]||(l[6]=a=>C(h)?h.value=a:null)},null,8,["note-text","center","offset","combo-offset","attribute","mastery-level","singers"]),A(D,null,{default:P(()=>[A(X,{"season-fan-lvs":t(de),"onUpdate:seasonFanLvs":l[7]||(l[7]=a=>C(de)?de.value=a:null)},null,8,["season-fan-lvs"])]),_:1}),e("div",Vo,[l[45]||(l[45]=e("div",{class:"card-header"}," メンバー ",-1)),e("div",To,[e("table",Uo,[e("thead",null,[e("tr",null,[e("th",ho,[e("div",Fo,[l[31]||(l[31]=e("span",null,"カード",-1)),e("button",{type:"button",class:"btn btn-link p-0","aria-label":"カードフィルターを開く",onClick:Ze},[A(V,{icon:["fas","filter"]})])])]),l[32]||(l[32]=e("th",{scope:"col"},"AP",-1)),l[33]||(l[33]=e("th",{scope:"col"},"Lv.",-1)),l[34]||(l[34]=e("th",{scope:"col"},"Sk Lv.",-1)),l[35]||(l[35]=e("th",{scope:"col"},"CtSk Lv.",-1)),l[36]||(l[36]=e("th",{scope:"col"},"凸数",-1)),l[37]||(l[37]=e("th",{scope:"col"},"選択",-1)),l[38]||(l[38]=e("th",{scope:"col"},"フレンド",-1)),l[39]||(l[39]=e("th",{scope:"col"},"マーク",-1))])]),e("tbody",null,[A(D,{"fallback-tag":"tr"},{default:P(()=>[(k(!0),x(E,null,R(t(N),a=>(k(),ae(we,{key:t(J)(a),"is-visible":t(Ye)(a),card:a,"open-card-details-modal":vl,"onUpdate:skillLevel":$e=>el(t(M)(a),$e)},null,8,["is-visible","card","onUpdate:skillLevel"]))),128))]),_:1})])]),e("div",Ao," 必須："+$(t(ll))+" 任意："+$(t(ol))+" 除外："+$(t(tl)),1),e("div",Oo,[e("div",null,[l[40]||(l[40]=e("span",{style:{color:"#ddbb00"}},"♥",-1)),U("："+$(t(ve).heart),1)]),e("div",null,[l[41]||(l[41]=e("span",{style:{color:"#6666dd"}},"♦",-1)),U("："+$(t(ve).diamond),1)]),e("div",null,[l[42]||(l[42]=e("span",{style:{color:"#888"}},"♠",-1)),U("："+$(t(ve).spade),1)]),e("div",null,[l[43]||(l[43]=e("span",{style:{color:"#ff88aa"}},"♣",-1)),U("："+$(t(ve).club),1)])]),e("div",Po,[e("button",{type:"button",class:"btn btn-primary",onClick:l[8]||(l[8]=a=>t(_e)?.click())}," TSVインポート "),e("button",{type:"button",class:"btn btn-primary",disabled:t(Ee),onClick:l[9]||(l[9]=a=>ml())}," 後衛カード追加 ",8,Bo)]),l[44]||(l[44]=e("div",null,[e("a",{href:"https://docs.google.com/spreadsheets/d/13moGCQN2fd9_kxc5g3M9go98Sw6Y8fO25nDxKFoDsDk/edit?gid=1837505339#gid=1837505339",target:"_blank"}," 後衛カード一覧 ")],-1)),e("input",{ref_key:"tsvFileInput",ref:_e,type:"file",class:"d-none",onChange:cl},null,544)])]),A(bl),e("div",Eo,[l[76]||(l[76]=e("div",{class:"card-header"}," 計算 ",-1)),e("div",Ro,[e("div",No,[l[52]||(l[52]=U(" プレイスタイル： ",-1)),e("div",Do,[e("div",zo,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[10]||(l[10]=a=>C(g)?g.value=a:null),class:"form-check-input",type:"radio",value:"perfect"},null,512),[[j,t(g)]]),l[46]||(l[46]=U(" 渾身 ",-1))]),A(se,null,{target:P(()=>[e("a",Io,[A(V,{icon:"circle-info"})])]),default:P(()=>[l[47]||(l[47]=U(" フルコンを目指すプレイ ",-1))]),_:1})]),e("div",qo,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[11]||(l[11]=a=>C(g)?g.value=a:null),class:"form-check-input",type:"radio",value:"desperate"},null,512),[[j,t(g)]]),l[48]||(l[48]=U(" 背水 ",-1))]),A(se,null,{target:P(()=>[e("a",jo,[A(V,{icon:"circle-info"})])]),default:P(()=>[l[49]||(l[49]=U(" メンタルが10%以下になるようミスをするプレイ ",-1))]),_:1})]),e("div",Go,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[12]||(l[12]=a=>C(g)?g.value=a:null),class:"form-check-input",type:"radio",value:"desperate1"},null,512),[[j,t(g)]]),l[50]||(l[50]=U(" 1%背水 ",-1))]),A(se,null,{target:P(()=>[e("a",Xo,[A(V,{icon:"circle-info"})])]),default:P(()=>[l[51]||(l[51]=U(" メンタルが1%以下になるようミスをするプレイ。MISSのみで1%を達成できない編成は計算できません。 ",-1))]),_:1})])])]),e("div",Ho,[l[61]||(l[61]=U(" 編成ルール： ",-1)),e("div",Ko,[e("div",Wo,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[13]||(l[13]=a=>C(b)?b.value=a:null),class:"form-check-input",type:"radio",value:"current"},null,512),[[j,t(b)]]),l[53]||(l[53]=U(" 通常ルール ",-1))]),A(se,null,{target:P(()=>[e("a",Jo,[A(V,{icon:"circle-info"})])]),default:P(()=>[l[54]||(l[54]=U(" ・メンバー1人あたり1種類まで",-1)),l[55]||(l[55]=e("br",null,null,-1)),l[56]||(l[56]=U(" ・カード制限なし ",-1))]),_:1})]),e("div",Qo,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[14]||(l[14]=a=>C(b)?b.value=a:null),class:"form-check-input",type:"radio",value:"new_grand_prix"},null,512),[[j,t(b)]]),l[57]||(l[57]=U(" ライグラルール ",-1))]),A(se,null,{target:P(()=>[e("a",Yo,[A(V,{icon:"circle-info"})])]),default:P(()=>[l[58]||(l[58]=U(" ・メンバー1人あたり2種類まで",-1)),l[59]||(l[59]=e("br",null,null,-1)),l[60]||(l[60]=U(" ・DRは1枚まで ",-1))]),_:1})])])]),e("div",Zo,[l[64]||(l[64]=U(" スコア比較基準： ",-1)),e("div",es,[e("div",ls,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[15]||(l[15]=a=>C(r)?r.value=a:null),class:"form-check-input",type:"radio",value:"score"},null,512),[[j,t(r)]]),l[62]||(l[62]=U(" スコア ",-1))])]),e("div",ts,[e("label",null,[L(e("input",{"onUpdate:modelValue":l[16]||(l[16]=a=>C(r)?r.value=a:null),class:"form-check-input",type:"radio",value:"grandPrixPt"},null,512),[[j,t(r)]]),l[63]||(l[63]=U(" グランプリpt ",-1))])])])]),e("div",os,[l[72]||(l[72]=U(" オプション： ",-1)),e("div",ss,[L(e("input",{id:"parallel","onUpdate:modelValue":l[17]||(l[17]=a=>C(Q)?Q.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(Q)]]),e("label",ns," マルチスレッド ("+$(t(Ce))+"スレッド) ",1)]),e("div",as,[L(e("input",{id:"includingCenterOnly","onUpdate:modelValue":l[18]||(l[18]=a=>C(H)?H.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(H)]]),l[65]||(l[65]=e("label",{class:"form-check-label",for:"includingCenterOnly"}," センターのメンバーを含まない編成は計算しない ",-1))]),e("div",rs,[L(e("input",{id:"includeFriendOnlyCenter","onUpdate:modelValue":l[19]||(l[19]=a=>C(F)?F.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(F)]]),l[66]||(l[66]=e("label",{class:"form-check-label",for:"includeFriendOnlyCenter"}," フレンドはセンターのメンバーのみ採用する ",-1))]),e("div",is,[L(e("input",{id:"requireVolUpAndScoreUp","onUpdate:modelValue":l[20]||(l[20]=a=>C(n)?n.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(n)]]),l[67]||(l[67]=e("label",{class:"form-check-label",for:"requireVolUpAndScoreUp"}," スキルにボルテージゲインとスコアアップを含まない編成は除外する ",-1))]),e("div",ds,[L(e("input",{id:"requireScoreBuff","onUpdate:modelValue":l[21]||(l[21]=a=>C(f)?f.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(f)]]),l[68]||(l[68]=e("label",{class:"form-check-label",for:"requireScoreBuff"}," スキルにスコア獲得量アップを含まない編成は除外する ",-1))]),e("div",us,[L(e("input",{id:"noLog","onUpdate:modelValue":l[22]||(l[22]=a=>C(re)?re.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(re)]]),l[69]||(l[69]=e("label",{class:"form-check-label",for:"noLog"}," ログを出力しない（効果大） ",-1))]),e("div",vs,[L(e("input",{id:"noDamagedFormation","onUpdate:modelValue":l[23]||(l[23]=a=>C(ie)?ie.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(ie)]]),l[70]||(l[70]=e("label",{class:"form-check-label",for:"noDamagedFormation"}," 途中でメンタルが100%未満になった場合計算を打ち切る（渾身選択時以外は自動で無効） ",-1))]),e("div",cs,[L(e("input",{id:"noConsiderFriend","onUpdate:modelValue":l[24]||(l[24]=a=>C(p)?p.value=a:null),class:"form-check-input",type:"checkbox"},null,512),[[z,t(p)]]),l[71]||(l[71]=e("label",{class:"form-check-label",for:"noConsiderFriend"}," フレンドなし固定 ",-1))])]),t(c)!=="running"?(k(),x("button",{key:0,type:"button",class:"btn btn-primary",onClick:al}," 計算 ")):Y("",!0),t(c)==="running"?(k(),x("button",{key:1,type:"button",class:"btn btn-primary",onClick:rl}," 中止 ")):Y("",!0),t(B)?(k(),x("div",ps,[e("p",{ref_key:"progressView",ref:pl},$(t(c)==="running"?`計算中... ${t(sl).toFixed(3)}%`:"計算完了"),513),e("div",ms,[e("div",fs,[e("p",null,"最高得点: "+$(t(B).score)+" ("+$(t(B).liveGrandPrixPt)+"pt)",1),l[75]||(l[75]=e("p",null,"メンバー:",-1)),e("ul",null,[(k(!0),x(E,null,R(t(B).members,a=>(k(),x("li",{key:t(M)(a),style:le({fontWeight:t(B).centerMember&&t(J)(a)===t(J)(t(B).centerMember)?"bold":"normal"})},$(t(J)(a)),5))),128))]),e("p",null,"フレンド: "+$(t(B).friendMember?t(J)(t(B).friendMember):"なし"),1),t(B).desperate1ProgramInitial?(k(),x("p",bs," ミス数（初動） 通常: "+$(t(B).desperate1ProgramInitial.normal)+" 中間: "+$(t(B).desperate1ProgramInitial.hold),1)):Y("",!0),e("textarea",{class:"form-control",value:t(B).log,readonly:"",rows:"5"},null,8,ks),e("div",ys,[l[73]||(l[73]=e("div",null,"編成に使用したカードを",-1)),e("div",null,[A(kl,{modelValue:t(ue),"onUpdate:modelValue":l[25]||(l[25]=a=>C(ue)?ue.value=a:null),class:""},null,8,["modelValue"])]),l[74]||(l[74]=e("div",null,"にする",-1)),e("button",{class:"btn btn-primary",onClick:fl},"実行")])])])])):Y("",!0)])]),A(yl),t(ge)?(k(),ae(je,{key:0,"on-close":Pe},{default:P(()=>[A(gl,{"search-text":t(me),"onUpdate:searchText":l[26]||(l[26]=a=>C(me)?me.value=a:null),"selected-skills":t(fe),"onUpdate:selectedSkills":l[27]||(l[27]=a=>C(fe)?fe.value=a:null),"selected-center-skills":t(be),"onUpdate:selectedCenterSkills":l[28]||(l[28]=a=>C(be)?be.value=a:null),"selected-members":t(ke),"onUpdate:selectedMembers":l[29]||(l[29]=a=>C(ke)?ke.value=a:null),"selected-rarities":t(ye),"onUpdate:selectedRarities":l[30]||(l[30]=a=>C(ye)?ye.value=a:null),"skill-options":t(He),"center-skill-options":t(Ke),"member-options":t(We),"rarity-options":t(Je),onClear:t(Qe),onClose:Pe},null,8,["search-text","selected-skills","selected-center-skills","selected-members","selected-rarities","skill-options","center-skill-options","member-options","rarity-options","onClear"])]),_:1})):Y("",!0),(k(!0),x(E,null,R(t(dl),(a,$e)=>(k(),ae(Wl(a.component),Xe({key:`modal-${$e}`,"on-close":a.onClose},{ref_for:!0},a.args),null,16,["on-close"]))),128))])}}});export{Ss as default};
